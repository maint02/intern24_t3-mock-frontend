System.register("@progress/kendo-angular-editor",["tslib","@progress/kendo-angular-dropdowns","@angular/forms","@progress/kendo-angular-dialog","@angular/common","@progress/kendo-angular-inputs","@angular/core","@progress/kendo-angular-toolbar","@progress/kendo-angular-buttons","prosemirror-commands","@progress/kendo-angular-l10n","prosemirror-history","@progress/kendo-angular-common","prosemirror-keymap","rxjs","rxjs/operators","prosemirror-view","prosemirror-state","@progress/kendo-angular-popup","prosemirror-tables","prosemirror-inputrules","prosemirror-model","prosemirror-schema-list"],function(r){var a,l,d,s,c,u,p,f,m,h,g,v,y,_,b,k,C,w,x,S,E,B,T;function e(t){return t.__useDefault?t.default:t}return{setters:[function(t){a=e(t)},function(t){l=e(t)},function(t){d=e(t)},function(t){s=e(t)},function(t){c=e(t)},function(t){u=e(t)},function(t){p=e(t)},function(t){f=e(t)},function(t){m=e(t)},function(t){h=e(t)},function(t){g=e(t)},function(t){v=e(t)},function(t){y=e(t)},function(t){_=e(t)},function(t){b=e(t)},function(t){k=e(t)},function(t){C=e(t)},function(t){w=e(t)},function(t){x=e(t)},function(t){S=e(t)},function(t){E=e(t)},function(t){B=e(t)},function(t){T=e(t)}],execute:function(){function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var n,i;i={},o.m=n=[function(t,e){t.exports=a},function(t,e){t.exports=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(10),l=(o=a.LocalizationService,i.__extends(d,o),i.__decorate([i.__param(0,r.Inject(a.L10N_PREFIX)),i.__param(1,r.Optional()),i.__param(2,r.Optional()),i.__param(2,r.Inject(a.RTL)),i.__metadata("design:paramtypes",[String,a.MessageService,Boolean])],d));function d(t,e,n){return o.call(this,t,e,n)||this}e.EditorLocalizationService=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(18),d=n(39),s=n(38),l=n(4),c=n(6),u=n(22),p=n(95),f=n(17),m=n(16),h=n(94),g=n(15),v=n(9),y=n(93),_=n(91),b=n(34),k=n(33),C=n(32),w=n(8),x=n(88),S=n(7),E=n(10),B=n(2),T=n(22),I=n(87),M=!!u.isDocumentAvailable()&&/Firefox/.test(navigator.userAgent),D=(o=O,Object.defineProperty(O.prototype,"value",{get:function(){var t=this.view?this.getSource():this._value;return"<p></p>"===t?this._value?"":this._value:t},set:function(t){this._value=t,this._previousValue=t,this.view&&this.exec("setHTML",this._value)},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"isIE",{get:function(){return this.iframe&&S.detectIE()},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"toolbar",{get:function(){return this.defaultToolbarComponent||this.userToolBarComponent},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"shouldInitOnLoad",{get:function(){return M&&this.iframe},enumerable:!0,configurable:!0}),O.prototype.ngOnInit=function(){var n=this;this.subs=this.localization.changes.subscribe(function(t){var e=t.rtl;n.direction=e?"rtl":"ltr"})},O.prototype.ngAfterViewInit=function(){this.shouldInitOnLoad||this.initialize()},O.prototype.iframeOnLoad=function(){this.shouldInitOnLoad&&this.initialize()},O.prototype.exec=function(t,e){_.editorCommands[t](e)(this.view.state,this.view.dispatch,this.view)},O.prototype.openDialog=function(t){var e={createLink:{content:C.FileLinkDialogComponent},insertFile:{content:C.FileLinkDialogComponent},insertImage:{content:k.ImageDialogComponent},viewSource:{content:b.SourceDialogComponent,height:400,width:500}},n=Object.assign({appendTo:this.dialogContainer},e[t]);this.toolbar.toggle(!1);var o=this.dialogService.open(n).content.instance;"createLink"!==t&&"insertFile"!==t||(o.command=t),o.editor=this,o.setData(this.view.state)},O.prototype.focus=function(){this.view.focus()},O.prototype.blur=function(){this.view.dom.blur()},O.prototype.getSource=function(){return w.getHTML(this.view.state)},O.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},O.prototype.writeValue=function(t){this.value=null===t?void 0:t},O.prototype.registerOnChange=function(t){this.onChangeCallback=t},O.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},O.prototype.isEmpty=function(){return!1},O.prototype.initialize=function(){var e=this;if(u.isDocumentAvailable()){var n=this,t=this.container.element.nativeElement,o=w.createContentNode(this.value);if(this.iframe){var i=t.contentDocument,r=i.createElement("meta");r.setAttribute("charset","utf-8"),i.head.appendChild(r),[I.defaultStyle,I.tablesStyles,"rtl"===this.dir?I.rtlStyles:void 0].forEach(function(t){if(t){var e=i.createElement("style");e.appendChild(i.createTextNode(t)),i.head.appendChild(e)}});var a=i.createElement("div");i.body.appendChild(a)}else a=document.createElement("div"),t.appendChild(a);var l=f.EditorState.create({schema:v.schema,doc:o,plugins:[g.history(),h.keymap(y.buildListKeymap(v.schema)),h.keymap(y.buildKeymap(v.schema)),h.keymap(m.baseKeymap)]});this.iframe?this.viewMountElement=t.contentDocument.querySelector("div"):this.viewMountElement=t.querySelector("div"),this.ngZone.runOutsideAngular(function(){e.view=new p.EditorView({mount:e.viewMountElement},{state:l,dispatchTransaction:function(t){this.updateState(this.state.apply(t)),n.stateChange.next(x.getToolbarState(this.state));var e=n.value;w.hasSameMarkup(e,n._previousValue)||(n._previousValue=e,n.ngZone.run(function(){return n.valueModified.next(e)}))}})}),this.subs.add(d.merge(this.stateChange.pipe(s.filter(function(){return 0<e.updateInterval}),s.auditTime(this.updateInterval)),this.stateChange.pipe(s.filter(function(){return 0===e.updateInterval}))).subscribe(function(){e.userToolBarComponent?e.userToolBarComponent.cdr.detectChanges():e.cdr.detectChanges()})),this.subs.add(d.merge(this.valueModified.pipe(s.filter(function(){return 0<e.updateInterval}),s.auditTime(this.updateInterval)),this.valueModified.pipe(s.filter(function(){return 0===e.updateInterval}))).subscribe(function(t){n.onChangeCallback(t),e.valueChange.emit(t)})),this.subs.add(d.fromEvent(this.viewMountElement,"keyup").pipe(s.map(function(t){return t.keyCode}),s.filter(function(t){return 121===t}),s.map(function(){return e.userToolBarElement||e.defaultToolbar})).subscribe(function(t){return t.nativeElement.focus()})),this.subs.add(d.fromEvent(this.viewMountElement,"blur").pipe(s.filter(function(t){return!e.viewMountElement.contains(t.relatedTarget)})).subscribe(function(){return e.onTouchedCallback()}))}},i.__decorate([r.Input(),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[String])],O.prototype,"value",null),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],O.prototype,"iframe",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Number)],O.prototype,"updateInterval",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],O.prototype,"valueChange",void 0),i.__decorate([r.HostBinding("class.k-widget"),r.HostBinding("class.k-editor"),i.__metadata("design:type",Boolean)],O.prototype,"hostClasses",void 0),i.__decorate([r.HostBinding("class.k-ie"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],O.prototype,"isIE",null),i.__decorate([r.HostBinding("attr.dir"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],O.prototype,"dir",null),i.__decorate([r.ContentChild(l.ToolBarComponent),i.__metadata("design:type",l.ToolBarComponent)],O.prototype,"userToolBarComponent",void 0),i.__decorate([r.ContentChild(l.ToolBarComponent,{read:r.ElementRef}),i.__metadata("design:type",r.ElementRef)],O.prototype,"userToolBarElement",void 0),i.__decorate([r.ViewChild("dialogsContainer",{read:r.ViewContainerRef}),i.__metadata("design:type",r.ViewContainerRef)],O.prototype,"dialogContainer",void 0),i.__decorate([r.ViewChild("content",{read:r.ViewContainerRef}),i.__metadata("design:type",r.ViewContainerRef)],O.prototype,"container",void 0),i.__decorate([r.ViewChild("defaultToolbar",{read:r.ElementRef}),i.__metadata("design:type",r.ElementRef)],O.prototype,"defaultToolbar",void 0),i.__decorate([r.ViewChild("defaultToolbar",{read:l.ToolBarComponent}),i.__metadata("design:type",l.ToolBarComponent)],O.prototype,"defaultToolbarComponent",void 0),o=i.__decorate([r.Component({selector:"kendo-editor",providers:[B.EditorLocalizationService,{provide:E.LocalizationService,useExisting:B.EditorLocalizationService},{provide:E.L10N_PREFIX,useValue:"kendo.editor"},{provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return o}),multi:!0},{provide:T.KendoInput,useExisting:r.forwardRef(function(){return o})}],template:'\n        <ng-container kendoEditorLocalizedMessages\n            i18n-alignCenter="kendo.editor.alignCenter|The title of the tool that aligns text in the center."\n            alignCenter="Center text"\n\n            i18n-alignJustify="kendo.editor.alignJustify|The title of the tool that justifies text both left and right."\n            alignJustify="Justify"\n\n            i18n-alignLeft="kendo.editor.alignLeft|The title of the tool that aligns text on the left."\n            alignLeft="Align text left"\n\n            i18n-alignRight="kendo.editor.alignRight|The title of the tool that aligns text on the right."\n            alignRight="Align text right"\n\n            i18n-backColor="kendo.editor.backColor|The title of the tool that changes the text background color."\n            backColor="Background color"\n\n            i18n-bold="kendo.editor.bold|The title of the tool that makes text bold."\n            bold="Bold"\n\n            i18n-cleanFormatting="kendo.editor.cleanFormatting|The title of the Clean Formatting tool."\n            cleanFormatting="Clean formatting"\n\n            i18n-createLink="kendo.editor.createLink|The title of the tool that creates hyperlinks."\n            createLink="Insert link"\n\n            i18n-dialogApply="kendo.editor.dialogApply|The label of the **Apply** button in all editor dialogs."\n            dialogApply="Apply"\n\n            i18n-dialogCancel="kendo.editor.dialogCancel|The label of the **Cancel** button in all editor dialogs."\n            dialogCancel="Cancel"\n\n            i18n-dialogInsert="kendo.editor.dialogInsert|The label of the **Insert** button in all editor dialogs."\n            dialogInsert="Insert"\n\n            i18n-dialogUpdate="kendo.editor.dialogUpdate|The label of the **Update** button in all editor dialogs."\n            dialogUpdate="Update"\n\n            i18n-fileText="kendo.editor.fileText|The caption for the file text in the insertFile dialog."\n            fileText="Text"\n\n            i18n-fileTitle="kendo.editor.fileTitle|The caption for the file Title in the insertFile dialog."\n            fileTitle="Title"\n\n            i18n-fileWebAddress="kendo.editor.fileWebAddress|The caption for the file URL in the insertFile dialog."\n            fileWebAddress="Web address"\n\n            i18n-fontFamily="kendo.editor.fontFamily|The title of the tool that changes the text font."\n            fontFamily="Select font family"\n\n            i18n-fontSize="kendo.editor.fontSize|The title of the tool that changes the text size."\n            fontSize="Select font size"\n\n            i18n-foreColor="kendo.editor.foreColor|The title of the tool that changes the text color."\n            foreColor="Color"\n\n            i18n-format="kendo.editor.format|The title of the tool that lets users choose block formats."\n            format="Format"\n\n            i18n-imageAltText="kendo.editor.imageAltText|The caption for the image alternate text in the insertImage dialog."\n            imageAltText="Alternate text"\n\n            i18n-imageHeight="kendo.editor.imageHeight|The caption for the image height in the insertImage dialog."\n            imageHeight="Height (px)"\n\n            i18n-imageWebAddress="kendo.editor.imageWebAddress|The caption for the image URL in the insertImage dialog."\n            imageWebAddress="Web address"\n\n            i18n-imageWidth="kendo.editor.imageWidth|The caption for the image width in the insertImage dialog."\n            imageWidth="Width (px)"\n\n            i18n-indent="kendo.editor.indent|The title of the tool that indents the content."\n            indent="Indent"\n\n            i18n-insertFile="kendo.editor.insertFile|The title of the tool that inserts links to files."\n            insertFile="Insert file"\n\n            i18n-insertImage="kendo.editor.insertImage|The title of the tool that inserts images."\n            insertImage="Insert image"\n\n            i18n-insertOrderedList="kendo.editor.insertOrderedList|The title of the tool that inserts an ordered list."\n            insertOrderedList="Insert ordered list"\n\n            i18n-insertUnorderedList="kendo.editor.insertUnorderedList|The title of the tool that inserts an unordered list."\n            insertUnorderedList="Insert unordered list"\n\n            i18n-italic="kendo.editor.italic|The title of the tool that makes text italicized."\n            italic="Italic"\n\n            i18n-linkOpenInNewWindow="kendo.editor.linkOpenInNewWindow|The caption for the checkbox for opening the link in a new window in the createLink dialog."\n            linkOpenInNewWindow="Open link in new window"\n\n            i18n-linkText="kendo.editor.linkText|The caption for the link text in the createLink dialog."\n            linkText="Text"\n\n            i18n-linkTitle="kendo.editor.linkTitle|The caption for the link title in the createLink dialog."\n            linkTitle="Title"\n\n            i18n-linkWebAddress="kendo.editor.linkWebAddress|The caption for the URL in the createLink dialog."\n            linkWebAddress="Web address"\n\n            i18n-outdent="kendo.editor.outdent|The title of the tool that outdents the content."\n            outdent="Outdent"\n\n            i18n-redo="kendo.editor.redo|The title of the tool that undos the last action."\n            redo="Redo"\n\n            i18n-strikethrough="kendo.editor.strikethrough|The title of the tool that strikes through text."\n            strikethrough="Strikethrough"\n\n            i18n-subscript="kendo.editor.subscript|The title of the tool that makes text subscript."\n            subscript="Subscript"\n\n            i18n-superscript="kendo.editor.superscript|The title of the tool that makes text superscript."\n            superscript="Superscript"\n\n            i18n-underline="kendo.editor.underline|The title of the tool that underlines text."\n            underline="Underline"\n\n            i18n-unlink="kendo.editor.unlink|The title of the tool that removes hyperlinks."\n            unlink="Remove Link"\n\n            i18n-undo="kendo.editor.undo|The title of the tool that undos the last action."\n            undo="Undo"\n\n            i18n-viewSource="kendo.editor.viewSource|The title of the tool that shows the editor value as HTML."\n            viewSource="View source"\n\n            i18n-insertTable="kendo.editor.insertTable|The title of the tool that inserts table."\n            insertTable="Insert Table"\n\n            i18n-addColumnBefore="kendo.editor.addColumnBefore|The title of the tool that adds new column before currently selected column."\n            addColumnBefore="Add column before"\n\n            i18n-addColumnAfter="kendo.editor.addColumnAfter|The title of the tool that adds new column after currently selected column."\n            addColumnAfter="Add column after"\n\n            i18n-addRowBefore="kendo.editor.addRowBefore|The title of the tool that adds new row before currently selected row."\n            addRowBefore="Add row before"\n\n            i18n-addRowAfter="kendo.editor.addRowAfter|The title of the tool that adds new row after currently selected row."\n            addRowAfter="Add row after"\n\n            i18n-deleteColumn="kendo.editor.deleteColumn|The title of the tool that deletes a table column."\n            deleteColumn="Delete column"\n\n            i18n-deleteRow="kendo.editor.deleteRow|The title of the tool that deletes a table row."\n            deleteRow="Delete row"\n\n            i18n-deleteTable="kendo.editor.deleteTable|The title of the tool that deletes a table."\n            deleteTable="Delete table"\n        >\n        </ng-container>\n\n        <ng-content select="kendo-toolbar"></ng-content>\n        <kendo-toolbar [overflow]="true" *ngIf="!userToolBarElement" #defaultToolbar>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorBoldButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorItalicButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorUnderlineButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-dropdownlist kendoEditorFormat></kendo-toolbar-dropdownlist>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorAlignLeftButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorAlignCenterButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorAlignRightButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorAlignJustifyButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorInsertUnorderedListButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorInsertOrderedListButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorIndentButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorOutdentButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-buttongroup>\n                <kendo-toolbar-button kendoEditorCreateLinkButton></kendo-toolbar-button>\n                <kendo-toolbar-button kendoEditorUnlinkButton></kendo-toolbar-button>\n            </kendo-toolbar-buttongroup>\n            <kendo-toolbar-button kendoEditorInsertImageButton></kendo-toolbar-button>\n        </kendo-toolbar>\n\n        <div *ngIf="!iframe" #content [attr.dir]="direction" class="k-content"></div>\n\n        <iframe *ngIf="iframe" #content frameborder="0" class="k-content" (load)="iframeOnLoad()"></iframe>\n\n        <ng-container #dialogsContainer></ng-container>\n    ',styles:["\n        >>> .k-content > .ProseMirror {\n            height: 100%;\n            width: 100%;\n            box-sizing: border-box;\n            outline: none;\n            overflow: auto;\n        }\n    "]}),i.__metadata("design:paramtypes",[c.DialogService,E.LocalizationService,r.ChangeDetectorRef,r.NgZone])],O));function O(t,e,n,o){this.dialogService=t,this.localization=e,this.cdr=n,this.ngZone=o,this.iframe=!0,this.updateInterval=100,this.valueChange=new r.EventEmitter,this.hostClasses=!0,this.stateChange=new d.BehaviorSubject(x.initialToolBarState),this.valueModified=new d.Subject,this.onChangeCallback=function(t){},this.onTouchedCallback=function(t){},this.direction=e.rtl?"rtl":"ltr"}e.EditorComponent=D},function(t,e){t.exports=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(0),i=(r=n(24).EditorCommandBase,o.__extends(a,r),a.prototype.clickHandler=function(){this.editor.exec(this.command),this.editor.focus()},a.prototype.onStateChange=function(t){this.button.selected=t[this.command]},a);function a(t,e,n,o){var i=r.call(this,t,e,n,o)||this;return i.command=t,i.button=e,i.editor=n,i.localization=o,i}e.EditorCommandButton=i},function(t,e){t.exports=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(22);n.outerWidth=function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseFloat(n.marginLeft)||0+parseFloat(n.marginRight)||0)},n.serializeDOMAttrs=function(t){return Array.from(t.attributes).reduce(function(t,e){var n;return Object.assign({},t,((n={})[e.name]=e.value,n))},{})},n.removeEntries=function(o,e){return Object.keys(o).filter(function(t){return e(t)}).reduce(function(t,e){var n;return Object.assign(t,((n={})[e]=o[e],n))},{})},n.removeEmptyEntries=function(e){return n.removeEntries(e,function(t){return null!==e[t]&&void 0!==e[t]&&""!==e[t]})},n.isEmpty=function(t){return 0===Object.keys(t).length},n.isNullOrUndefined=function(t){return null==t},n.isPresent=function(t){return!n.isNullOrUndefined(t)},n.detectIE=function(){if(!o.isDocumentAvailable())return!1;var t=window.navigator.userAgent,e=t.indexOf("MSIE "),n=t.indexOf("Trident/");return 0<e||0<n},n.safeString=function(t){return n.isNullOrUndefined(t)?"":t.toString()},n.first=function(t){return t[0]},n.last=function(t){return t[t.length-1]},n.unique=function(t){return Array.from(new Set(t))},n.split=function(e){return function(t){return t.split(e)}},n.trim=function(t){return t.trim()},n.filter=function(e){return function(t){return t.filter(e)}},n.toArray=function(t){return t instanceof Array?t:[t]}},function(t,d,e){"use strict";Object.defineProperty(d,"__esModule",{value:!0});function p(t){return t instanceof r.Node?t.type.name:t.name}function f(t){var e="string"==typeof t?t:p(t);return e===p(y)||e===p(v)}function m(n){return Array.from(new Array(n.depth),function(t,e){return n.depth-e}).map(function(t){return n.node(t)}).map(p).find(f)}function i(r,e){return void 0===e&&(e=1),function(t){return void 0===(i=e)&&(i=1),function(t){for(var e=t.$from,n=e.depth;0<n;n--){var o=e.node(n);if(p(o)===p(r)&&0==(i-=1))return{depth:n,node:o}}}(t);var i}}var r=e(11),h=e(17),s=e(14),a=e(13),l=e(9),o=e(21),g=e(7),n=l.schema.nodes,v=n.bulletList,c=n.doc,u=n.listItem,y=n.orderedList;d.getUniqueStyleValues=function(t,e){if(t.hasNodesWithoutMarks)return"";var n=t.marks.filter(function(t){return"style"===t.type.name}).map(function(t){return t.attrs.style}).map(g.split(";")).map(g.filter(function(t){return t.includes(e)})).map(function(t){return 0!==t.length?t:[e+": INVALID"]}).map(g.first).map(g.split(":")).map(g.last).map(g.trim).reduce(function(t,e){return-1<t.indexOf(e)?t:t.concat([e])},[]);return-1<n.indexOf("INVALID")||1!==n.length?"":n[0]},d.isMarkActive=function(t,e){var n=t.selection,o=n.from,i=n.$from,r=n.to;return n.empty?!!e.isInSet(t.storedMarks||i.marks()):!!t.doc.rangeHasMark(o,r,e)},d.isNodeActive=function(t,i,e){var n=function(t){for(var e=t.$from,n=e.depth;0<n;n--){var o=e.node(n);if(p(o)===p(i))return{depth:n,node:o}}}(t.selection);return!n||e&&!Object.keys(e).length?!!n:n.node.hasMarkup(i,e)},d.isInListOfType=function(t,e){var n=t.selection,o=n.$anchor,i=n.$head,r=[],a=m(o),l=m(i);n.content().content.descendants(function(t){return r=r.concat([t]),!1});var d=r.filter(function(t){return p(t)!==p(v)&&p(t)!==p(y)});if(n instanceof h.TextSelection&&n.$cursor)return m(n.$cursor)===e.name;var s=1===g.unique(r.map(p)).length;if(0<d.length||!s)return!1;var c=g.first(r),u=[p(c)];return c.descendants(function(t){f(t)&&(u=u.concat([p(t)]))}),g.last(u)===e.name&&a===l&&a===e.name},d.getActiveMarks=function(t,o){var e=t.selection,i=!1;if(e instanceof h.TextSelection&&e.$cursor)return{hasNodesWithoutMarks:i,marks:e.$cursor.marks().filter(function(t){return!o||t.type.name===o.name})};var r=[];return e.content().content.descendants(function(t){if("text"===t.type.name){var e=o?(n=o,t.marks.filter(function(t){return t.type.name===n.name})):t.marks;0<t.marks.length&&0<e.length?r.push.apply(r,e):i=!0}var n}),{hasNodesWithoutMarks:i,marks:r}},d.getNodeTagName=function(n){var t,e=n.type.spec.parseDOM||[],o=n.attrs;return(t=1===e.length?e[0]:e.find(function(t){var e=r.DOMSerializer.fromSchema(l.schema).serializeNode(n);return JSON.stringify(t.getAttrs(e))===JSON.stringify(g.removeEmptyEntries(o))}))?t.tag.toLowerCase().replace(/ *\[[^\]]*]/,""):""},d.activeNode=function(t){var e,n=t.selection instanceof h.AllSelection,o=t.selection instanceof h.TextSelection,i=t.selection instanceof h.NodeSelection,r=t.selection instanceof s.CellSelection;if(n)e=t.doc;else if(o||r){var a=t.selection.$anchor,l=a.node(a.blockRange().depth);e=p(l)===p(c)?a.node():l}else i&&(e=t.selection.node);return{name:p(e),tag:d.getNodeTagName(e)}},d.canIndent=function(t,e){return d.isNodeActive(t,e)&&a.sinkListItem(e)(t)},d.canOutdent=function(t,e){var n=!!i(y,2)(t.selection),o=!!i(v,2)(t.selection);return d.isNodeActive(t,e)&&(n||o)&&a.liftListItem(e)(t)},d.getMark=function(t,e){var n,o=t.selection,i=o.from,r=o.$from,a=o.to,l=o.empty,d=t.doc;return l?n=e.isInSet(t.storedMarks||r.marks()):d.nodesBetween(i,a,function(t){t.isInline&&!n&&(n=e.isInSet(t.marks))}),n},d.getNodeFromSelection=function(t){if(t.selection instanceof h.NodeSelection)return t.selection.node},d.getSelectionText=function(t){var e=t.selection;if(e instanceof h.TextSelection||e instanceof h.AllSelection){var n=e.content().content;return n.textBetween(0,n.size)}return""},d.getHTML=function(t){var e=r.DOMSerializer.fromSchema(t.schema).serializeFragment(t.doc.content),n=document.createElement("div");return n.appendChild(e),n.innerHTML},d.createContentNode=function(t){var e=document.createElement("div");return e.innerHTML=g.safeString(t).trim(),r.DOMParser.fromSchema(l.schema).parse(e)},d.hasSameMarkup=function(t,e){var n=r.Fragment.from(d.createContentNode(t)),o=r.Fragment.from(d.createContentNode(e));return n.eq(o)};function _(t,e){var n=t.selection,o=n.from,i=n.to,r=!1;return t.doc.nodesBetween(o,i,function(t){return!(r=r||t.type===e)}),r}d.blockNodes=function(t){var e=t.selection,n=e.from,o=e.to,i=e.$from,r=[];return e.node?e.node.isBlock?r.push(e.node):i.parent&&i.parent.isBlock&&r.push(i.parent):t.doc.nodesBetween(n,o,function(t){t.isBlock&&r.push(t)}),r},d.isAligned=function(t,n){var o=!1;return d.blockNodes(t).forEach(function(e){if(!o&&e.type.isTextblock&&e.attrs.style){var t=n.find(function(t){return t.node===e.type.name});t&&(o=t.style.every(function(t){return!!t.value&&new RegExp(t.name+":\\s?"+t.value,"i").test(e.attrs.style)}))}}),o},d.isIndented=function(t,o){var i=!1;return d.blockNodes(t).forEach(function(e){if(!i&&e.type.isTextblock&&e.attrs.style){var t=o.find(function(t){return t.node===e.type.name});if(t){var n=new RegExp(t.style+":\\s?\\d+"+t.unit,"i");i=n.test(e.attrs.style)}}}),i},d.canIndentAsListItem=function(t){return a.sinkListItem(u)(t)},d.canOutdentAsListItem=function(t){return a.liftListItem(u)(t)},d.canBeIndented=function(e,t){var n=e.schema.nodes;return(d.isIndented(e,t)||o.indentRules.some(function(t){return n[t.node]&&_(e,n[t.node])}))&&!_(e,u)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function o(){return{class:{default:null},id:{default:null},style:{default:null}}}var i,r=n(0),a=n(11),l=n(14),d=n(7),s={link:{attrs:{href:{default:""},target:{default:null},title:{default:null}},inclusive:!1,parseDOM:[{getAttrs:function(t){return{href:t.getAttribute("href"),target:t.getAttribute("target"),title:t.getAttribute("title")}},tag:"a[href]"}],toDOM:function(t){return["a",Object.assign({},{href:""},d.removeEmptyEntries(t.attrs)),0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}},strong:{parseDOM:[{tag:"strong"},{getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null},style:"font-weight"}],toDOM:function(){return["strong",0]}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}},underline:{parseDOM:[{tag:"u"},{style:"text-decoration=underline"}],toDOM:function(){return["u",0]}},strikethrough:{parseDOM:[{tag:"del"},{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM:function(){return["del",0]}},subscript:{parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM:function(){return["sub",0]}},superscript:{parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM:function(){return["sup",0]}},style:{attrs:r.__assign({},{class:{default:null},id:{default:null},style:{default:null}},{style:{}}),parseDOM:[{getAttrs:function(t){return{style:t.getAttribute("style")}},tag:"span[style]"}],toDOM:function(t){return["span",Object.assign({},d.removeEmptyEntries(t.attrs)),0]}}},c=r.__assign({doc:{content:"block+"},paragraph:{attrs:r.__assign({},{class:{default:null},id:{default:null},style:{default:null}}),content:"inline*",group:"block",parseDOM:[{getAttrs:d.serializeDOMAttrs,tag:"p"}],toDOM:function(t){return d.isEmpty(t.attrs)?["p",0]:["p",d.removeEmptyEntries(t.attrs),0]}},blockquote:{attrs:r.__assign({},{class:{default:null},id:{default:null},style:{default:null}}),content:"inline*",defining:!0,group:"block",parseDOM:[{tag:"blockquote"}],toDOM:function(t){return["blockquote",d.removeEmptyEntries(t.attrs),0]}},horizontalRule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}},heading:{attrs:r.__assign({level:{default:1}},{class:{default:null},id:{default:null},style:{default:null}}),content:"inline*",defining:!0,group:"block",parseDOM:[{tag:"h1",getAttrs:function(t){return Object.assign({},d.serializeDOMAttrs(t),{level:1})}},{tag:"h2",getAttrs:function(t){return Object.assign({},d.serializeDOMAttrs(t),{level:2})}},{tag:"h3",getAttrs:function(t){return Object.assign({},d.serializeDOMAttrs(t),{level:3})}},{tag:"h4",getAttrs:function(t){return Object.assign({},d.serializeDOMAttrs(t),{level:4})}},{tag:"h5",getAttrs:function(t){return Object.assign({},d.serializeDOMAttrs(t),{level:5})}},{tag:"h6",getAttrs:function(t){return Object.assign({},d.serializeDOMAttrs(t),{level:6})}}],toDOM:function(t){var e=d.removeEntries(t.attrs,function(t){return"level"!==t});return["h"+t.attrs.level,d.removeEmptyEntries(e),0]}},codeBlock:{code:!0,content:"text*",defining:!0,group:"block",marks:"",parseDOM:[{preserveWhitespace:"full",tag:"pre"}],toDOM:function(){return["pre",["code",0]]}},text:{group:"inline"},image:{attrs:r.__assign({},{class:{default:null},id:{default:null},style:{default:null}},{alt:{default:null},height:{default:null},src:{},width:{default:null}}),draggable:!0,group:"inline",inline:!0,parseDOM:[{getAttrs:function(t){return{alt:t.getAttribute("alt"),height:t.getAttribute("height"),src:t.getAttribute("src"),width:t.getAttribute("width")}},tag:"img[src]"}],toDOM:function(t){return["img",d.removeEmptyEntries(t.attrs)]}},hardBreak:{group:"inline",inline:!0,parseDOM:[{tag:"br"}],selectable:!1,toDOM:function(){return["br"]}},listItem:{attrs:r.__assign({},{class:{default:null},id:{default:null},style:{default:null}}),content:"paragraph block*",marks:"_",parseDOM:[{tag:"li"}],toDOM:function(t){return["li",d.removeEmptyEntries(t.attrs),0]}},orderedList:{attrs:{order:{default:1}},content:"listItem+",group:"block",parseDOM:[{getAttrs:function(t){return{order:t.hasAttribute("start")?parseInt(t.getAttribute("start"),10):1}},tag:"ol"}],toDOM:function(t){return 1===t.attrs.order?["ol",0]:["ol",{start:t.attrs.order},0]}},bulletList:{content:"listItem+",group:"block",parseDOM:[{tag:"ul"}],toDOM:function(){return["ul",0]}}},(i=l.tableNodes({tableGroup:"block",cellContent:"block+",cellAttributes:o}),Object.assign(i,{table:{attrs:r.__assign({},{class:{default:null},id:{default:null},style:{default:null}},{class:{default:"k-table"},cellspacing:{default:null},cellpadding:{default:null}}),content:"table_row+",tableRole:"table",isolating:!0,group:"block",parseDOM:[{getAttrs:d.serializeDOMAttrs,tag:"table"}],toDOM:function(t){return["table",d.removeEmptyEntries(t.attrs),["tbody",0]]}}})));e.schema=new a.Schema({marks:s,nodes:c})},function(t,e){t.exports=g},function(t,e){t.exports=B},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(0),i=(r=n(24).EditorCommandBase,o.__extends(a,r),a.prototype.clickHandler=function(){this.editor.openDialog(this.dialog)},a);function a(t,e,n,o){var i=r.call(this,t,e,n,o)||this;return i.dialog=t,i.button=e,i.editor=n,i.localization=o,i}e.EditorCommandDialog=i},function(t,e){t.exports=T},function(t,e){t.exports=S},function(t,e){t.exports=v},function(t,e){t.exports=h},function(t,e){t.exports=w},function(t,e){t.exports=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commandIcons={alignCenter:"align-center",alignJustify:"align-justify",alignLeft:"align-left",alignRight:"align-right",bold:"bold",cleanFormatting:"clear-css",createLink:"link-horizontal",indent:"indent-increase",insertFile:"file-add",insertImage:"image",insertOrderedList:"list-ordered",insertUnorderedList:"list-unordered",italic:"italic",outdent:"indent-decrease",redo:"redo",strikethrough:"strikethrough",subscript:"sub-script",superscript:"sup-script",underline:"underline",undo:"undo",unlink:"unlink-horizontal",viewSource:"html",foreColor:"foreground-color",backColor:"background",insertTable:"table-insert",addColumnBefore:"table-column-insert-left",addColumnAfter:"table-column-insert-right",addRowBefore:"table-row-insert-above",addRowAfter:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",mergeCells:"cells-merge",splitCell:"cell-split-horizontally",deleteTable:"table-delete"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o,r=n(0),a=n(1),l=n(4),d=n(2),s=n(7),c=n(3),u=n(6),p=n(29),f=(i=l.ToolBarToolComponent,r.__extends(m,i),o=m,Object.defineProperty(m.prototype,"title",{get:function(){return this.localization.get(this.editorCommand)},enumerable:!0,configurable:!0}),m.prototype.handleValueChange=function(t){this.editor.exec(this.editorCommand,t),this.editor.focus()},m.prototype.handleActiveColorClick=function(t){t.preventOpen(),this.handleValueChange(t.color)},Object.defineProperty(m.prototype,"outerWidth",{get:function(){if(this.element)return s.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),m.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:p.ColorPickerDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,value:this.value,title:this.title,editorCommand:this.editorCommand,paletteSettings:this.paletteSettings,icon:this.icon})},r.__decorate([a.Input(),r.__metadata("design:type",String)],m.prototype,"value",void 0),r.__decorate([a.Input(),r.__metadata("design:type",String)],m.prototype,"icon",void 0),r.__decorate([a.Input(),r.__metadata("design:type",Object)],m.prototype,"paletteSettings",void 0),r.__decorate([a.Input(),r.__metadata("design:type",String)],m.prototype,"editorCommand",void 0),r.__decorate([a.ViewChild("toolbarTemplate"),r.__metadata("design:type",a.TemplateRef)],m.prototype,"toolbarTemplate",void 0),r.__decorate([a.ViewChild("popupTemplate"),r.__metadata("design:type",a.TemplateRef)],m.prototype,"popupTemplate",void 0),r.__decorate([a.ViewChild("colorpicker",{read:a.ElementRef}),r.__metadata("design:type",a.ElementRef)],m.prototype,"element",void 0),o=r.__decorate([a.Component({providers:[{provide:l.ToolBarToolComponent,useExisting:a.forwardRef(function(){return o})}],selector:"kendo-toolbar-colorpicker",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-colorpicker\n                #colorpicker\n                [view]="\'palette\'"\n                [format]="\'hex\'"\n                [attr.title]="title"\n                [icon]="icon"\n                [value]="value"\n                [paletteSettings]="paletteSettings"\n                (valueChange)="handleValueChange($event)"\n                (activeColorClick)="handleActiveColorClick($event)"\n            >\n            </kendo-colorpicker>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                class="k-overflow-button"\n                [icon]="icon"\n                [attr.title]="title"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),r.__param(0,a.Host()),r.__metadata("design:paramtypes",[c.EditorComponent,d.EditorLocalizationService,u.DialogService])],m));function m(t,e,n){var o=i.call(this)||this;return o.editor=t,o.localization=e,o.dialogService=n,o}e.EditorColorPickerComponent=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.indentRules=[{node:"paragraph",step:30,style:"margin-left",unit:"px"},{node:"heading",step:30,style:"margin-left",unit:"px"}],e.outdentRules=[{node:"paragraph",step:-30,style:"margin-left",unit:"px"},{node:"heading",step:-30,style:"margin-left",unit:"px"}]},function(t,e){t.exports=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=(o=n(10).ComponentMessages,i.__extends(l,o),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"alignCenter",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"alignJustify",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"alignLeft",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"alignRight",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"backColor",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"bold",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"cleanFormatting",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"createLink",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"fontFamily",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"fontSize",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"foreColor",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"format",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"indent",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"insertFile",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"insertImage",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"insertOrderedList",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"insertUnorderedList",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"italic",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"outdent",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"redo",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"strikethrough",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"subscript",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"superscript",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"underline",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"undo",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"unlink",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"viewSource",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"insertTable",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"addColumnBefore",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"addColumnAfter",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"addRowBefore",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"addRowAfter",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"deleteColumn",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"deleteRow",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"deleteTable",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"dialogApply",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"dialogCancel",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"dialogInsert",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"dialogUpdate",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"fileText",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"fileTitle",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"fileWebAddress",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"imageAltText",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"imageHeight",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"imageWebAddress",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"imageWidth",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"linkOpenInNewWindow",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"linkText",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"linkTitle",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],l.prototype,"linkWebAddress",void 0),l);function l(){return null!==o&&o.apply(this,arguments)||this}e.Messages=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),i=(r.prototype.ngOnInit=function(){var e=this;this.subs=this.editor.stateChange.subscribe(this.onStateChange.bind(this)),this.subs.add(this.button.click.subscribe(this.clickHandler.bind(this))),Promise.resolve(null).then(function(){var t=e.localization.get(e.command);t&&(e.button.showText="overflow",e.button.showIcon="both",e.button.text=t),e.button.icon||(e.button.icon=o.commandIcons[e.command]),e.button.title=t})},r.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},r.prototype.clickHandler=function(){},r.prototype.onStateChange=function(t){},r);function r(t,e,n,o){this.command=t,this.button=e,this.editor=n,this.localization=o}e.EditorCommandBase=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(6),l=n(2),d=n(3),s=(o=a.DialogContentBase,i.__extends(c,o),c.prototype.onCancelAction=function(){this.dialog.close()},c.prototype.onConfirmAction=function(){this.value&&this.editor.exec("fontSize",this.value),this.dialog.close()},c.prototype.setData=function(t){this.editor=t.editor,this.data=t.data,this.defaultItem=t.defaultItem,this.value=t.value,this.itemDisabled=t.itemDisabled},c.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([r.Input(),i.__metadata("design:type",d.EditorComponent)],c.prototype,"editor",void 0),i.__decorate([r.Component({template:'\n        <kendo-dialog-titlebar>\n            {{ textFor(\'fontSize\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-editor-fontsize-dropdownlist\n                        #fontSizeDropDownList\n                        [defaultItem]="defaultItem"\n                        [data]="data"\n                        [(value)]="value"\n                        [itemDisabled]="itemDisabled"\n                    >\n                    </kendo-editor-fontsize-dropdownlist>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[a.DialogRef,l.EditorLocalizationService])],c));function c(t,e){var n=o.call(this,t)||this;return n.dialog=t,n.localization=e,n.data=[],n}e.FontSizeDialogComponent=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),r=(a.prototype.onValueChange=function(t){this.valueChange.emit(t)},o.__decorate([i.Input(),o.__metadata("design:type",Array)],a.prototype,"data",void 0),o.__decorate([i.Input(),o.__metadata("design:type",String)],a.prototype,"value",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Object)],a.prototype,"defaultItem",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Function)],a.prototype,"itemDisabled",void 0),o.__decorate([i.Input(),o.__metadata("design:type",String)],a.prototype,"title",void 0),o.__decorate([i.Output(),o.__metadata("design:type",i.EventEmitter)],a.prototype,"valueChange",void 0),o.__decorate([i.ViewChild("element"),o.__metadata("design:type",i.ElementRef)],a.prototype,"element",void 0),o.__decorate([i.Component({selector:"kendo-editor-format-dropdownlist",template:'\n        <kendo-dropdownlist\n            #element\n            [defaultItem]="defaultItem"\n            [textField]="\'text\'"\n            [valueField]="\'tag\'"\n            [data]="data"\n            [(value)]="value"\n            [valuePrimitive]="true"\n            [itemDisabled]="itemDisabled"\n            [attr.title]="title"\n            (valueChange)="onValueChange($event)"\n        >\n            <ng-template kendoDropDownListItemTemplate let-dataItem>\n                <ng-container [ngSwitch]="dataItem.tag">\n                    <span *ngSwitchCase="\'h1\'" style="display: block; font-size: 2em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h2\'" style="display: block; font-size: 1.5em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h3\'" style="display: block; font-size: 1.17em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h4\'" style="display: block; font-size: 1em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h5\'" style="display: block; font-size: .83em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'h6\'" style="display: block; font-size: .67em; margin-left: 0; font-weight: bold;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'p\'" style="display: block; margin-left: 0;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchCase="\'blockquote\'" style="display: block; margin-left: 0;">\n                        {{ dataItem.text }}\n                    </span>\n\n                    <span *ngSwitchDefault>{{ dataItem.text }}</span>\n                </ng-container>\n            </ng-template>\n        </kendo-dropdownlist>\n    '})],a));function a(){this.valueChange=new i.EventEmitter}e.FormatDropDownListComponent=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(6),l=n(2),d=n(3),s=(o=a.DialogContentBase,i.__extends(c,o),c.prototype.onCancelAction=function(){this.dialog.close()},c.prototype.onCellClick=function(t){this.dialog.close(),this.editor.exec("insertTable",t)},c.prototype.setData=function(t){this.editor=t.editor},c.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([r.Input(),i.__metadata("design:type",d.EditorComponent)],c.prototype,"editor",void 0),i.__decorate([r.Component({template:'\n        <kendo-dialog-titlebar>\n            {{ textFor(\'insertTable\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-ct-popup k-window-content" style="text-align: center;">\n                    <kendo-popup-table-grid (cellClick)="onCellClick($event)"></kendo-popup-table-grid>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[a.DialogRef,l.EditorLocalizationService])],c));function c(t,e){var n=o.call(this,t)||this;return n.dialog=t,n.localization=e,n}e.InsertTableDialogComponent=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(6),l=n(2),d=n(3),s=(o=a.DialogContentBase,i.__extends(c,o),c.prototype.onCancelAction=function(){this.dialog.close()},c.prototype.onConfirmAction=function(){this.value&&this.editor.exec("fontFamily",this.value),this.dialog.close()},c.prototype.setData=function(t){this.editor=t.editor,this.data=t.data,this.defaultItem=t.defaultItem,this.value=t.value,this.itemDisabled=t.itemDisabled},c.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([r.Input(),i.__metadata("design:type",d.EditorComponent)],c.prototype,"editor",void 0),i.__decorate([r.Component({template:'\n        <kendo-dialog-titlebar>\n            {{ textFor(\'fontFamily\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-editor-fontfamily-dropdownlist\n                        #fontFamilyDropDownList\n                        [defaultItem]="defaultItem"\n                        [data]="data"\n                        [(value)]="value"\n                        [itemDisabled]="itemDisabled"\n                    >\n                    </kendo-editor-fontfamily-dropdownlist>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[a.DialogRef,l.EditorLocalizationService])],c));function c(t,e){var n=o.call(this,t)||this;return n.dialog=t,n.localization=e,n.data=[],n}e.FontFamilyDialogComponent=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(6),l=n(2),d=n(3),s=(o=a.DialogContentBase,i.__extends(c,o),c.prototype.handleActiveColorClick=function(t){t.preventOpen(),this.value=t.color},c.prototype.onCancelAction=function(){this.dialog.close()},c.prototype.onConfirmAction=function(){this.value&&this.editor.exec(this.editorCommand,this.value),this.dialog.close()},c.prototype.setData=function(t){this.editor=t.editor,this.value=t.value,this.editorCommand=t.editorCommand,this.paletteSettings=t.paletteSettings,this.icon=t.icon},c.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([r.Input(),i.__metadata("design:type",d.EditorComponent)],c.prototype,"editor",void 0),i.__decorate([r.Component({template:'\n        <kendo-dialog-titlebar>\n            {{ textFor(\'format\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-colorpicker\n                        #colorpicker\n                        [view]="\'palette\'"\n                        [format]="\'hex\'"\n                        [attr.title]="title"\n                        [icon]="icon"\n                        [(value)]="value"\n                        [paletteSettings]="paletteSettings"\n                        (activeColorClick)="handleActiveColorClick($event)"\n                    >\n                    </kendo-colorpicker>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[a.DialogRef,l.EditorLocalizationService])],c));function c(t,e){var n=o.call(this,t)||this;return n.dialog=t,n.localization=e,n}e.ColorPickerDialogComponent=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(6),l=n(2),d=n(3),s=(o=a.DialogContentBase,i.__extends(c,o),c.prototype.onCancelAction=function(){this.dialog.close()},c.prototype.onConfirmAction=function(){this.value&&this.editor.exec("format",{tag:this.value}),this.dialog.close()},c.prototype.setData=function(t){this.editor=t.editor,this.data=t.data,this.defaultItem=t.defaultItem,this.value=t.value,this.itemDisabled=t.itemDisabled},c.prototype.textFor=function(t){return this.localization.get(t)},i.__decorate([r.Input(),i.__metadata("design:type",d.EditorComponent)],c.prototype,"editor",void 0),i.__decorate([r.Component({template:'\n        <kendo-dialog-titlebar>\n            {{ textFor(\'format\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content" style="text-align: center;">\n                    <kendo-editor-format-dropdownlist\n                        #formatDropDownList\n                        [defaultItem]="defaultItem"\n                        [data]="data"\n                        [(value)]="value"\n                        [itemDisabled]="itemDisabled"\n                    >\n                    </kendo-editor-format-dropdownlist>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogApply\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[a.DialogRef,l.EditorLocalizationService])],c));function c(t,e){var n=o.call(this,t)||this;return n.dialog=t,n.localization=e,n.data=[],n}e.FormatDialogComponent=s},function(t,e){t.exports=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(18),l=n(6),d=n(8),s=n(9),c=n(7),u=n(2),p=(o=l.DialogContentBase,i.__extends(f,o),f.prototype.onCancelAction=function(){this.dialog.close()},f.prototype.onConfirmAction=function(){var t=this.getData();this.editor.exec(this.command,t),this.dialog.close(),this.editor.focus()},Object.defineProperty(f.prototype,"titleText",{get:function(){return this.localization.get(this.command)},enumerable:!0,configurable:!0}),f.prototype.setData=function(t){"createLink"===this.command&&this.linkForm.addControl("target",new a.FormControl);var e=d.getMark(t,s.schema.marks.link);e?this.linkForm.reset({href:e.attrs.href,title:e.attrs.title,target:c.isPresent(e.attrs.target),text:this.setLinkText(t)}):t.selection.empty||this.linkForm.patchValue({text:d.getSelectionText(t)})},f.prototype.textForWithPrefix=function(t){var e="createLink"===this.command?"link":"file";return this.textFor(e+t)},f.prototype.textFor=function(t){return this.localization.get(t)},f.prototype.setLinkText=function(t){var e=t.selection;if(e.empty&&e.$cursor){var n=e.$cursor,o=n.index();return n.parent.child(o).text}return d.getSelectionText(t)},f.prototype.getData=function(){var t=this.linkForm.value;return c.isPresent(this.linkForm.controls.target)&&(t.target=t.target?"_blank":null),t},i.__decorate([r.Input(),i.__metadata("design:type",Object)],f.prototype,"editor",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],f.prototype,"command",void 0),i.__decorate([r.Component({template:"\n        <kendo-dialog-titlebar>\n            {{ titleText }}\n        </kendo-dialog-titlebar>\n        <div class='k-editor-dialog'>\n            <div class='k-editor-dialog k-popup-edit-form k-window-content k-content'>\n                <div class='k-edit-form-container k-window-content'>\n                    <form novalidate [formGroup]='linkForm'>\n                        <div class='k-edit-label'>\n                            <label (click)='hrefInput.focus()'>{{ textForWithPrefix('WebAddress') }}</label>\n                        </div>\n                        <div class='k-edit-field'>\n                            <input #hrefInput formControlName='href' type='text' class='k-input k-textbox'>\n                        </div>\n\n                        <div class='k-edit-label'>\n                            <label (click)='textInput.focus()'>{{ textForWithPrefix('Text') }}</label>\n                        </div>\n                        <div class='k-edit-field'>\n                            <input #textInput formControlName='text' type='text' class='k-input k-textbox'>\n                        </div>\n\n                        <div class='k-edit-label'>\n                            <label (click)='titleInput.focus()'>{{ textForWithPrefix('Title') }}</label>\n                        </div>\n                        <div class='k-edit-field'>\n                            <input #titleInput formControlName='title' type='text' class='k-input k-textbox'>\n                        </div>\n                        <ng-container *ngIf=\"command === 'createLink'\">\n                            <div class='k-edit-label'></div>\n                            <div class='k-edit-field'>\n                                <input type='checkbox' id='k-target-blank' class='k-checkbox' formControlName='target'>\n                                <label class='k-checkbox-label' for='k-target-blank'>{{ textForWithPrefix('OpenInNewWindow') }}</label>\n                            </div>\n                        </ng-container>\n                    </form>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)='onCancelAction()'>{{ textFor('dialogCancel') }}</button>\n            <button kendoButton [disabled]='linkForm.invalid'\n                    (click)='onConfirmAction()' [primary]='true'>{{ textFor('dialogInsert') }}</button>\n        </kendo-dialog-actions>\n    "}),i.__metadata("design:paramtypes",[l.DialogRef,u.EditorLocalizationService])],f));function f(t,e){var n=o.call(this,t)||this;return n.dialog=t,n.localization=e,n.linkForm=new a.FormGroup({href:new a.FormControl("",a.Validators.required),text:new a.FormControl("",a.Validators.required),title:new a.FormControl("")}),n}e.FileLinkDialogComponent=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(18),l=n(6),d=n(8),s=n(7),c=n(2),u=(o=l.DialogContentBase,i.__extends(p,o),p.prototype.onCancelAction=function(){this.dialog.close()},p.prototype.onConfirmAction=function(){this.src.value&&(this.editor.exec("insertImage",this.getData()),this.dialog.close(),this.editor.focus())},p.prototype.setData=function(t){var e=d.getNodeFromSelection(t);e&&(this.src.patchValue(e.attrs.src),this.alt.patchValue(e.attrs.alt),this.width.patchValue(e.attrs.width),this.height.patchValue(e.attrs.height))},p.prototype.textFor=function(t){return this.localization.get(t)},p.prototype.getData=function(){return{alt:this.alt.value,height:this.normalizeDimension(this.height.value),src:this.src.value,width:this.normalizeDimension(this.width.value)}},p.prototype.normalizeDimension=function(t){return Number.isNaN(parseInt(t,10))||parseInt(t,10)<=0?"":s.safeString(parseInt(t,10))},i.__decorate([r.Input(),i.__metadata("design:type",Object)],p.prototype,"editor",void 0),i.__decorate([r.Component({template:'\n        <kendo-dialog-titlebar>\n            {{ textFor(\'insertImage\') }}\n        </kendo-dialog-titlebar>\n        <div class="k-editor-dialog">\n            <div class="k-editor-dialog k-popup-edit-form k-window-content k-content">\n                <div class="k-edit-form-container k-window-content">\n                    <div class="k-edit-label">\n                        <label for="k-editor-image-url">{{ textFor(\'imageWebAddress\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [formControl]="src" type="text" class="k-input k-textbox" />\n                    </div>\n                    <div class="k-edit-label">\n                        <label for="k-editor-image-text">{{ textFor(\'imageAltText\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [formControl]="alt" type="text" class="k-input k-textbox" />\n                    </div>\n                    <div class="k-edit-label">\n                        <label for="k-editor-image-width">{{ textFor(\'imageWidth\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [formControl]="width" type="text" class="k-input k-textbox" />\n                    </div>\n                    <div class="k-edit-label">\n                        <label for="k-editor-image-height">{{ textFor(\'imageHeight\') }}</label>\n                    </div>\n                    <div class="k-edit-field">\n                        <input [formControl]="height" type="text" class="k-input k-textbox" />\n                    </div>\n                </div>\n            </div>\n        </div>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton [disabled]="imageData.invalid"\n                    (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogInsert\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[l.DialogRef,c.EditorLocalizationService])],p));function p(t,e){var n=o.call(this,t)||this;return n.dialog=t,n.localization=e,n.src=new a.FormControl("",a.Validators.required),n.alt=new a.FormControl(""),n.width=new a.FormControl("",a.Validators.min(1)),n.height=new a.FormControl("",a.Validators.min(1)),n.data={alt:"",height:"",src:"",width:""},n.imageData=new a.FormGroup({alt:n.alt,height:n.height,src:n.src,width:n.width}),n}e.ImageDialogComponent=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(6),l=n(2),d=(o=a.DialogContentBase,i.__extends(s,o),s.prototype.onCancelAction=function(){this.dialog.close()},s.prototype.onConfirmAction=function(){this.editor.exec("setHTML",this.getData()),this.dialog.close(),this.editor.focus()},s.prototype.getData=function(){return this.textarea.nativeElement.value},s.prototype.setData=function(){this.data=this.indent(this.editor.getSource())},s.prototype.textFor=function(t){return this.localization.get(t)},s.prototype.indent=function(t){return t.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")},i.__decorate([r.Input(),i.__metadata("design:type",Object)],s.prototype,"editor",void 0),i.__decorate([r.ViewChild("textarea"),i.__metadata("design:type",r.ElementRef)],s.prototype,"textarea",void 0),i.__decorate([r.Component({styles:["\n            >>> .k-editor-textarea {\n                height: 100%;\n            }\n        "],template:'\n        <kendo-dialog-titlebar>\n            {{ textFor(\'viewSource\') }}\n        </kendo-dialog-titlebar>\n        <textarea [value]="data" #textarea class="k-editor-textarea k-input"></textarea>\n        <kendo-dialog-actions>\n            <button kendoButton (click)="onCancelAction()">{{ textFor(\'dialogCancel\') }}</button>\n            <button kendoButton (click)="onConfirmAction()" [primary]="true">{{ textFor(\'dialogUpdate\') }}</button>\n        </kendo-dialog-actions>\n    '}),i.__metadata("design:paramtypes",[a.DialogRef,l.EditorLocalizationService])],s));function s(t,e){var n=o.call(this,t)||this;return n.dialog=t,n.localization=e,n.data="",n}e.SourceDialogComponent=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function o(t,e){return{name:t,value:e}}e.alignLeftRules=[{node:"paragraph",style:[o("text-align","left")]},{node:"heading",style:[o("text-align","left")]},{node:"listItem",style:[o("text-align","left"),o("list-style-position","inside")]}],e.alignRightRules=[{node:"paragraph",style:[o("text-align","right")]},{node:"heading",style:[o("text-align","right")]},{node:"listItem",style:[o("text-align","right"),o("list-style-position","inside")]}],e.alignCenterRules=[{node:"paragraph",style:[o("text-align","center")]},{node:"heading",style:[o("text-align","center")]},{node:"listItem",style:[o("text-align","center"),o("list-style-position","inside")]}],e.alignRemoveRules=[{node:"paragraph",style:[o("text-align","")]},{node:"heading",style:[o("text-align","")]},{node:"listItem",style:[o("text-align",""),o("list-style-position","")]}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var B=n(11),f=Math.pow(2,16);function s(t){return 65535&t}function m(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n}function o(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e}o.prototype.recover=function(t){var e=0,n=s(t);if(!this.inverted)for(var o=0;o<n;o++)e+=this.ranges[3*o+2]-this.ranges[3*o+1];return this.ranges[3*n]+e+(t-(65535&t))/f},o.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},o.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},o.prototype._map=function(t,e,n){for(var o=0,i=this.inverted?2:1,r=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?o:0);if(t<l)break;var d=this.ranges[a+i],s=this.ranges[a+r],c=l+d;if(t<=c){var u=l+o+((d?t==l?-1:t==c?1:e:e)<0?0:s);if(n)return u;var p=a/3+(t-l)*f;return new m(u,e<0?t!=l:t!=c,p)}o+=s-d}return n?t+o:new m(t+o)},o.prototype.touches=function(t,e){for(var n=0,o=s(e),i=this.inverted?2:1,r=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?n:0);if(t<l)break;var d=this.ranges[a+i];if(t<=l+d&&a==3*o)return!0;n+=this.ranges[a+r]-d}return!1},o.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,o=0,i=0;o<this.ranges.length;o+=3){var r=this.ranges[o],a=r-(this.inverted?i:0),l=r+(this.inverted?0:i),d=this.ranges[o+e],s=this.ranges[o+n];t(a,a+d,l,l+s),i+=s-d}},o.prototype.invert=function(){return new o(this.ranges,!this.inverted)},o.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},o.offset=function(t){return 0==t?o.empty:new o(t<0?[0,-t,0]:[0,0,t])},o.empty=new o([]);function i(t,e,n,o){this.maps=t||[],this.from=n||0,this.to=null==o?this.maps.length:o,this.mirror=e}function r(t){var e=Error.call(this,t);return e.__proto__=r.prototype,e}i.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new i(this.maps,this.mirror,t,e)},i.prototype.copy=function(){return new i(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},i.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},i.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var o=t.getMirror(e);this.appendMap(t.maps[e],null!=o&&o<e?n+o:null)}},i.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},i.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},i.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;0<=e;e--){var o=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=o&&e<o?n-o-1:null)}},i.prototype.invert=function(){var t=new i;return t.appendMappingInverted(this),t},i.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},i.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},i.prototype._map=function(t,e,n){for(var o=!1,i=null,r=this.from;r<this.to;r++){var a=this.maps[r],l=i&&i[r];if(null!=l&&a.touches(t,l))t=a.recover(l);else{var d=a.mapResult(t,e);if(null!=d.recover){var s=this.getMirror(r);if(null!=s&&r<s&&s<this.to){if(d.deleted){r=s,t=this.maps[s].recover(d.recover);continue}(i=i||Object.create(null))[s]=d.recover}}d.deleted&&(o=!0),t=d.pos}}return n?t:new m(t,o)},((r.prototype=Object.create(Error.prototype)).constructor=r).prototype.name="TransformError";function a(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new i}var l={before:{},docChanged:{}};function d(){throw new Error("Override me")}l.before.get=function(){return this.docs.length?this.docs[0]:this.doc},a.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new r(e.failed);return this},a.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},l.docChanged.get=function(){return 0<this.steps.length},a.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(a.prototype,l);function c(){}var u=Object.create(null);c.prototype.apply=function(t){return d()},c.prototype.getMap=function(){return o.empty},c.prototype.invert=function(t){return d()},c.prototype.map=function(t){return d()},c.prototype.merge=function(t){return null},c.prototype.toJSON=function(){return d()},c.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=u[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},c.jsonID=function(t,e){if(t in u)throw new RangeError("Duplicate use of step JSON ID "+t);return(u[t]=e).prototype.jsonID=t,e};function p(t,e){this.doc=t,this.failed=e}p.ok=function(t){return new p(t,null)},p.fail=function(t){return new p(null,t)},p.fromReplace=function(t,e,n,o){try{return p.ok(t.replace(e,n,o))}catch(t){if(t instanceof B.ReplaceError)return p.fail(t.message);throw t}};var h,T=((h=c)&&(g.__proto__=h),((g.prototype=Object.create(h&&h.prototype)).constructor=g).prototype.apply=function(t){return this.structure&&b(t,this.from,this.to)?p.fail("Structure replace would overwrite content"):p.fromReplace(t,this.from,this.to,this.slice)},g.prototype.getMap=function(){return new o([this.from,this.to-this.from,this.slice.size])},g.prototype.invert=function(t){return new g(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},g.prototype.map=function(t){var e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted?null:new g(e.pos,Math.max(e.pos,n.pos),this.slice)},g.prototype.merge=function(t){if(!(t instanceof g)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var e=this.slice.size+t.slice.size==0?B.Slice.empty:new B.Slice(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new g(t.from,this.to,e,this.structure)}var n=this.slice.size+t.slice.size==0?B.Slice.empty:new B.Slice(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new g(this.from,this.to+(t.to-t.from),n,this.structure)},g.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},g.fromJSON=function(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new g(e.from,e.to,B.Slice.fromJSON(t,e.slice),!!e.structure)},g);function g(t,e,n,o){h.call(this),this.from=t,this.to=e,this.slice=n,this.structure=!!o}c.jsonID("replace",T);var v,y=((v=c)&&(_.__proto__=v),((_.prototype=Object.create(v&&v.prototype)).constructor=_).prototype.apply=function(t){if(this.structure&&(b(t,this.from,this.gapFrom)||b(t,this.gapTo,this.to)))return p.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return p.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?p.fromReplace(t,this.from,this.to,n):p.fail("Content does not fit in gap")},_.prototype.getMap=function(){return new o([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},_.prototype.invert=function(t){var e=this.gapTo-this.gapFrom;return new _(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},_.prototype.map=function(t){var e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return e.deleted&&n.deleted||o<e.pos||i>n.pos?null:new _(e.pos,n.pos,o,i,this.slice,this.insert,this.structure)},_.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},_.fromJSON=function(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new _(e.from,e.to,e.gapFrom,e.gapTo,B.Slice.fromJSON(t,e.slice),e.insert,!!e.structure)},_);function _(t,e,n,o,i,r,a){v.call(this),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=o,this.slice=i,this.insert=r,this.structure=!!a}function b(t,e,n){for(var o=t.resolve(e),i=n-e,r=o.depth;0<i&&0<r&&o.indexAfter(r)==o.node(r).childCount;)r--,i--;if(0<i)for(var a=o.node(r).maybeChild(o.indexAfter(r));0<i;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}return!1}function k(t){return{type:t,attrs:null}}function C(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function w(t,e,n){var o=t.resolve(e);if(o.parent.canReplaceWith(o.index(),o.index(),n))return e;if(0==o.parentOffset)for(var i=o.depth-1;0<=i;i--){var r=o.index(i);if(o.node(i).canReplaceWith(r,r,n))return o.before(i+1);if(0<r)return null}if(o.parentOffset==o.parent.content.size)for(var a=o.depth-1;0<=a;a--){var l=o.indexAfter(a);if(o.node(a).canReplaceWith(l,l,n))return o.after(a+1);if(l<o.node(a).childCount)return null}}function x(t,e,n){for(var o=[],i=0;i<t.childCount;i++){var r=t.child(i);r.content.size&&(r=r.copy(x(r.content,e,r))),r.isInline&&(r=e(r,n,i)),o.push(r)}return B.Fragment.fromArray(o)}c.jsonID("replaceAround",y),a.prototype.lift=function(t,e){for(var n=t.$from,o=t.$to,i=t.depth,r=n.before(i+1),a=o.after(i+1),l=r,d=a,s=B.Fragment.empty,c=0,u=i,p=!1;e<u;u--)p||0<n.index(u)?(p=!0,s=B.Fragment.from(n.node(u).copy(s)),c++):l--;for(var f=B.Fragment.empty,m=0,h=i,g=!1;e<h;h--)g||o.after(h+1)<o.end(h)?(g=!0,f=B.Fragment.from(o.node(h).copy(f)),m++):d++;return this.step(new y(l,d,r,a,new B.Slice(s.append(f),c,m),s.size-c,!0))},a.prototype.wrap=function(t,e){for(var n=B.Fragment.empty,o=e.length-1;0<=o;o--)n=B.Fragment.from(e[o].type.create(e[o].attrs,n));var i=t.start,r=t.end;return this.step(new y(i,r,i,r,new B.Slice(n,0,0),e.length,!0))},a.prototype.setBlockType=function(t,e,c,u){var p=this;if(void 0===e&&(e=t),!c.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var f=this.steps.length;return this.doc.nodesBetween(t,e,function(t,e){if(t.isTextblock&&!t.hasMarkup(c,u)&&(r=p.doc,a=p.mapping.slice(f).map(e),l=c,d=r.resolve(a),s=d.index(),d.parent.canReplaceWith(s,s+1,l))){p.clearIncompatible(p.mapping.slice(f).map(e,1),c);var n=p.mapping.slice(f),o=n.map(e,1),i=n.map(e+t.nodeSize,1);return p.step(new y(o,i,o+1,i-1,new B.Slice(B.Fragment.from(c.create(u,null,t.marks)),0,0),1,!0)),!1}var r,a,l,d,s}),this},a.prototype.setNodeMarkup=function(t,e,n,o){var i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");var r=(e=e||i.type).create(n,null,o||i.marks);if(i.isLeaf)return this.replaceWith(t,t+i.nodeSize,r);if(!e.validContent(i.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new y(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new B.Slice(B.Fragment.from(r),0,0),1,!0))},a.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var o=this.doc.resolve(t),i=B.Fragment.empty,r=B.Fragment.empty,a=o.depth,l=o.depth-e,d=e-1;l<a;a--,d--){i=B.Fragment.from(o.node(a).copy(i));var s=n&&n[d];r=B.Fragment.from(s?s.type.create(s.attrs,r):o.node(a).copy(r))}return this.step(new T(t,t,new B.Slice(i.append(r),e,e),!0))},a.prototype.join=function(t,e){void 0===e&&(e=1);var n=new T(t-e,t+e,B.Slice.empty,!0);return this.step(n)};var S,E=((S=c)&&(I.__proto__=S),((I.prototype=Object.create(S&&S.prototype)).constructor=I).prototype.apply=function(t){var n=this,e=t.slice(this.from,this.to),o=t.resolve(this.from),i=o.node(o.sharedDepth(this.to)),r=new B.Slice(x(e.content,function(t,e){return e.type.allowsMarkType(n.mark.type)?t.mark(n.mark.addToSet(t.marks)):t},i),e.openStart,e.openEnd);return p.fromReplace(t,this.from,this.to,r)},I.prototype.invert=function(){return new D(this.from,this.to,this.mark)},I.prototype.map=function(t){var e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new I(e.pos,n.pos,this.mark)},I.prototype.merge=function(t){if(t instanceof I&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new I(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},I.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},I.fromJSON=function(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new I(e.from,e.to,t.markFromJSON(e.mark))},I);function I(t,e,n){S.call(this),this.from=t,this.to=e,this.mark=n}c.jsonID("addMark",E);var M,D=((M=c)&&(O.__proto__=M),((O.prototype=Object.create(M&&M.prototype)).constructor=O).prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),o=new B.Slice(x(n.content,function(t){return t.mark(e.mark.removeFromSet(t.marks))}),n.openStart,n.openEnd);return p.fromReplace(t,this.from,this.to,o)},O.prototype.invert=function(){return new E(this.from,this.to,this.mark)},O.prototype.map=function(t){var e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new O(e.pos,n.pos,this.mark)},O.prototype.merge=function(t){if(t instanceof O&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new O(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},O.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},O.fromJSON=function(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new O(e.from,e.to,t.markFromJSON(e.mark))},O);function O(t,e,n){M.call(this),this.from=t,this.to=e,this.mark=n}function A(t,e,n,o){if(void 0===n&&(n=e),void 0===o&&(o=B.Slice.empty),e==n&&!o.size)return null;var i=t.resolve(e),r=t.resolve(n);if(L(i,r,o))return new T(e,n,o);var a,l,d,s,c=(l=function t(e,n,o,i){var r=B.Fragment.empty,a=0,l=o[n];if(e.depth>n){var d=t(e,n+1,o,i||l);a=d.openEnd+1,r=B.Fragment.from(e.node(n+1).copy(d.content))}return l&&(r=r.append(l.content),a=l.openEnd),i&&(r=r.append(e.node(n).contentMatchAt(e.indexAfter(n)).fillBefore(B.Fragment.empty,!0)),a=0),{content:r,openEnd:a}}(a=i,0,function(t,e){for(var n=new R(t),o=1;e.size&&o<=3;o++){var i=n.placeSlice(e.content,e.openStart,e.openEnd,o);3==o&&i!=e&&i.size&&(o=0),e=i}for(;n.open.length;)n.closeNode();return n.placed}(i,o),!1),d=l.content,s=l.openEnd,new B.Slice(d,a.depth,s||0)),u=z(i,r,c);if(!u)return null;if(c.size!=u.size&&function(t,e,n){if(!e.parent.isTextblock)return 0;var o,i=n.openEnd?function(t,e){for(var n=1;n<e;n++)t=t.lastChild.content;return t.lastChild}(n.content,n.openEnd):t.node(t.depth-(n.openStart-n.openEnd));if(!i.isTextblock)return 0;for(var r=e.index();r<e.parent.childCount;r++)if(!i.type.allowsMarks(e.parent.child(r).marks))return 0;return n.openEnd?o=i.contentMatchAt(i.childCount):(o=i.contentMatchAt(i.childCount),n.size&&(o=o.matchFragment(n.content,n.openStart?1:0))),(o=o.matchFragment(e.parent.content,e.index()))&&o.validEnd}(i,r,c)){for(var p=r.depth,f=r.after(p);1<p&&f==r.end(--p);)++f;var m=z(i,t.resolve(f),c);if(m)return new y(e,f,n,r.end(),m,c.size)}return u.size||e!=n?new T(e,n,u):null}function z(t,e,n){var o=function t(e,n,o,i,r,a,l){var d,s=e.childCount,c=s-(0<l?1:0),u=a<0?n:o.node(r);d=a<0?u.contentMatchAt(c):1==s&&0<l?u.contentMatchAt(a?o.index(r):o.indexAfter(r)):u.contentMatchAt(o.indexAfter(r)).matchFragment(e,0<s&&a?1:0,c);var p=i.node(r);if(0<l&&r<i.depth){var f=p.content.cutByIndex(i.indexAfter(r)).addToStart(e.lastChild),m=d.fillBefore(f,!0);if(m&&m.size&&0<a&&1==s&&(m=null),m){var h=t(e.lastChild.content,e.lastChild,o,i,r+1,1==s?a-1:-1,l-1);if(h){var g=e.lastChild.copy(h);return m.size?e.cutByIndex(0,s-1).append(m).addToEnd(g):e.replaceChild(s-1,g)}}}0<l&&(d=d.matchType((1==s&&0<a?o.node(r+1):e.lastChild).type));var v=i.index(r);if(v==p.childCount&&!p.type.compatibleContent(n.type))return null;for(var y=d.fillBefore(p.content,!0,v),_=v;y&&_<p.content.childCount;_++)u.type.allowsMarks(p.content.child(_).marks)||(y=null);if(!y)return null;if(0<l){var b=function t(e,n,o,i,r){var a,l=e.content,d=l.childCount;if(a=0<=r?o.node(i).contentMatchAt(o.indexAfter(i)).matchFragment(l,0<r?1:0,d):e.contentMatchAt(d),0<n){var s=t(l.lastChild,n-1,o,i+1,1==d?r-1:-1);l=l.replaceChild(d-1,s)}return e.copy(l.append(a.fillBefore(B.Fragment.empty,!0)))}(e.lastChild,l-1,o,r+1,1==s?a-1:-1);e=e.replaceChild(s-1,b)}return e=e.append(y),i.depth>r&&(e=e.addToEnd(function t(e,n){var o=e.node(n),i=o.contentMatchAt(0).fillBefore(o.content,!0,e.index(n));return e.depth>n&&(i=i.addToEnd(t(e,n+1))),o.copy(i)}(i,r+1))),e}(n.content,t.node(0),t,e,0,n.openStart,n.openEnd);return o?function(t,e,n){for(;0<e&&0<n&&1==t.childCount;)t=t.firstChild.content,e--,n--;return new B.Slice(t,e,n)}(o,n.openStart,e.depth):null}function L(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}c.jsonID("removeMark",D),a.prototype.addMark=function(d,s,c){var e=this,u=[],p=[],f=null,m=null;return this.doc.nodesBetween(d,s,function(t,e,n){if(t.isInline){var o=t.marks;if(!c.isInSet(o)&&n.type.allowsMarkType(c.type)){for(var i=Math.max(e,d),r=Math.min(e+t.nodeSize,s),a=c.addToSet(o),l=0;l<o.length;l++)o[l].isInSet(a)||(f&&f.to==i&&f.mark.eq(o[l])?f.to=r:u.push(f=new D(i,r,o[l])));m&&m.to==i?m.to=r:p.push(m=new E(i,r,c))}}}),u.forEach(function(t){return e.step(t)}),p.forEach(function(t){return e.step(t)}),this},a.prototype.removeMark=function(c,u,p){var e=this;void 0===p&&(p=null);var f=[],m=0;return this.doc.nodesBetween(c,u,function(t,e){if(t.isInline){m++;var n=null;if(p instanceof B.MarkType){var o=p.isInSet(t.marks);o&&(n=[o])}else p?p.isInSet(t.marks)&&(n=[p]):n=t.marks;if(n&&n.length)for(var i=Math.min(e+t.nodeSize,u),r=0;r<n.length;r++){for(var a=n[r],l=void 0,d=0;d<f.length;d++){var s=f[d];s.step==m-1&&a.eq(f[d].style)&&(l=s)}l?(l.to=i,l.step=m):f.push({style:a,from:Math.max(e,c),to:i,step:m})}}}),f.forEach(function(t){return e.step(new D(t.from,t.to,t.style))}),this},a.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var o=this.doc.nodeAt(t),i=[],r=t+1,a=0;a<o.childCount;a++){var l=o.child(a),d=r+l.nodeSize,s=n.matchType(l.type,l.attrs);if(s){n=s;for(var c=0;c<l.marks.length;c++)e.allowsMarkType(l.marks[c].type)||this.step(new D(r,d,l.marks[c]))}else i.push(new T(r,d,B.Slice.empty));r=d}if(!n.validEnd){var u=n.fillBefore(B.Fragment.empty,!0);this.replace(r,r,new B.Slice(u,0,0))}for(var p=i.length-1;0<=p;p--)this.step(i[p]);return this},a.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=B.Slice.empty);var o=A(this.doc,t,e,n);return o&&this.step(o),this},a.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new B.Slice(B.Fragment.from(n),0,0))},a.prototype.delete=function(t,e){return this.replace(t,e,B.Slice.empty)},a.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var R=function(t){this.open=[];for(var e=0;e<=t.depth;e++){var n=t.node(e),o=n.contentMatchAt(t.indexAfter(e));this.open.push({parent:n,match:o,content:B.Fragment.empty,wrapper:!1,openEnd:0,depth:e})}this.placed=[]};function F(t,e,n){var o=t.content;if(1<e){var i=F(t.firstChild,e-1,1==t.childCount?n-1:0);o=t.content.replaceChild(0,i)}var r=t.type.contentMatch.fillBefore(o,0==n);return t.copy(r.append(o))}function P(t,e,n,o,i){if(e<n){var r=t.firstChild;t=t.replaceChild(0,r.copy(P(r.content,e+1,n,o,r)))}if(o<e){var a=i.contentMatchAt(0),l=a.fillBefore(t).append(t);t=l.append(a.matchFragment(l).fillBefore(B.Fragment.empty,!0))}return t}function j(t,e){for(var n=[],o=Math.min(t.depth,e.depth);0<=o;o--){var i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;i==e.start(o)&&n.push(o)}return n}R.prototype.placeSlice=function(t,e,n,o,i){if(0<e){var r=t.firstChild,a=this.placeSlice(r.content,Math.max(0,e-1),n&&1==t.childCount?n-1:0,o,r);a.content!=r.content&&(e=a.content.size?(t=t.replaceChild(0,r.copy(a.content)),a.openStart+1):(1==t.childCount&&(n=0),t=t.cutByIndex(1),0))}var l=this.placeContent(t,e,n,o,i);if(2<o&&l.size&&0==e){var d=l.content.firstChild,s=1==l.content.childCount;this.placeContent(d.content,0,n&&s?n-1:0,o,d),l=s?B.Fragment.empty:new B.Slice(l.content.cutByIndex(1),0,n)}return l},R.prototype.placeContent=function(t,e,n,o,i){for(var r=0;r<t.childCount;r++){for(var a=t.child(r),l=!1,d=r==t.childCount-1,s=this.open.length-1;0<=s;s--){var c=this.open[s],u=void 0;if(1<o&&(u=c.match.findWrapping(a.type))&&(!i||!u.length||u[u.length-1]!=i.type)){for(;this.open.length-1>s;)this.closeNode();for(var p=0;p<u.length;p++)c.match=c.match.matchType(u[p]),s++,c={parent:u[p].create(),match:u[p].contentMatch,content:B.Fragment.empty,wrapper:!0,openEnd:0,depth:s+p},this.open.push(c)}var f=c.match.matchType(a.type);if(!f){var m=c.match.fillBefore(B.Fragment.from(a));if(!m){if(i&&c.match.matchType(i.type))break;continue}for(var h=0;h<m.childCount;h++){var g=m.child(h);this.addNode(c,g,0),f=c.match.matchFragment(g)}}for(;this.open.length-1>s;)this.closeNode();a=a.mark(c.parent.type.allowedMarks(a.marks)),e&&(a=F(a,e,d?n:0),e=0),this.addNode(c,a,d?n:0),c.match=f,d&&(n=0),l=!0;break}if(!l)break}return 1<this.open.length&&(0<r&&r==t.childCount||i&&this.open[this.open.length-1].parent.type==i.type)&&this.closeNode(),new B.Slice(t.cutByIndex(r),e,n)},R.prototype.addNode=function(t,e,n){var o,i;t.content=(o=t.content,(i=t.openEnd)?o.replaceChild(o.childCount-1,function t(e,n){var o=e.content;if(1<n){var i=t(e.lastChild,n-1);o=e.content.replaceChild(e.childCount-1,i)}var r=e.contentMatchAt(e.childCount).fillBefore(B.Fragment.empty,!0);return e.copy(o.append(r))}(o.lastChild,i)):o).addToEnd(e),t.openEnd=n},R.prototype.closeNode=function(){var t=this.open.pop();0==t.content.size||(t.wrapper?this.addNode(this.open[this.open.length-1],t.parent.copy(t.content),t.openEnd+1):this.placed[t.depth]={depth:t.depth,content:t.content,openEnd:t.openEnd})},a.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var o=this.doc.resolve(t),i=this.doc.resolve(e);if(L(o,i,n))return this.step(new T(t,e,n));var r=j(o,this.doc.resolve(e));0==r[r.length-1]&&r.pop();var a=-(o.depth+1);r.unshift(a);for(var l=o.depth,d=o.pos-1;0<l;l--,d--){var s=o.node(l).type.spec;if(s.defining||s.isolating)break;-1<r.indexOf(l)?a=l:o.before(l)==d&&r.splice(1,0,-l)}for(var c=r.indexOf(a),u=[],p=n.openStart,f=n.content,m=0;;m++){var h=f.firstChild;if(u.push(h),m==n.openStart)break;f=h.content}0<p&&u[p-1].type.spec.defining&&o.node(c).type!=u[p-1].type?p-=1:2<=p&&u[p-1].isTextblock&&u[p-2].type.spec.defining&&o.node(c).type!=u[p-2].type&&(p-=2);for(var g=n.openStart;0<=g;g--){var v=(g+p+1)%(n.openStart+1),y=u[v];if(y)for(var _=0;_<r.length;_++){var b=r[(_+c)%r.length],k=!0;b<0&&(k=!1,b=-b);var C=o.node(b-1),w=o.index(b-1);if(C.canReplaceWith(w,w,y.type,y.marks))return this.replace(o.before(b),k?i.after(b):e,new B.Slice(P(n.content,0,n.openStart,v),v,n.openEnd))}}for(var x=this.steps.length,S=r.length-1;0<=S&&(this.replace(t,e,n),!(this.steps.length>x));S--){var E=r[S];S<0||(t=o.before(E),e=i.after(E))}return this},a.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var o=w(this.doc,t,n.type);null!=o&&(t=e=o)}return this.replaceRange(t,e,new B.Slice(B.Fragment.from(n),0,0))},a.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),o=this.doc.resolve(e),i=j(n,o),r=0;r<i.length;r++){var a=i[r],l=r==i.length-1;if(l&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),o.end(a));if(0<a&&(l||n.node(a-1).canReplace(n.index(a-1),o.indexAfter(a-1))))return this.delete(n.before(a),o.after(a))}for(var d=1;d<=n.depth;d++)if(t-n.start(d)==n.depth-d&&e>n.end(d)&&o.end(d)-e!=o.depth-d)return this.delete(n.before(d),e);return this.delete(t,e)},e.Transform=a,e.TransformError=r,e.Step=c,e.StepResult=p,e.joinPoint=function(t,e,n){void 0===n&&(n=-1);for(var o=t.resolve(e),i=o.depth;;i--){var r=void 0,a=void 0;if(a=i==o.depth?(r=o.nodeBefore,o.nodeAfter):0<n?(r=o.node(i+1),o.node(i).maybeChild(o.index(i)+1)):(r=o.node(i).maybeChild(o.index(i)-1),o.node(i+1)),r&&!r.isTextblock&&C(r,a))return e;if(0==i)break;e=n<0?o.before(i):o.after(i)}},e.canJoin=function(t,e){var n=t.resolve(e),o=n.index();return C(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(o,o+1)},e.canSplit=function(t,e,n,o){void 0===n&&(n=1);var i=t.resolve(e),r=i.depth-n,a=o&&o[o.length-1]||i.parent;if(r<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var l=i.depth-1,d=n-2;r<l;l--,d--){var s=i.node(l),c=i.index(l);if(s.type.spec.isolating)return!1;var u=s.content.cutByIndex(c,s.childCount),p=o&&o[d]||s;if(p!=s&&(u=u.replaceChild(0,p.type.create(p.attrs))),!s.canReplace(c+1,s.childCount)||!p.type.validContent(u))return!1}var f=i.indexAfter(r),m=o&&o[0];return i.node(r).canReplaceWith(f,f,m?m.type:i.node(1+r).type)},e.insertPoint=w,e.dropPoint=function(t,e,n){var o=t.resolve(e);if(!n.content.size)return e;for(var i=n.content,r=0;r<n.openStart;r++)i=i.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var l=o.depth;0<=l;l--){var d=l==o.depth?0:o.pos<=(o.start(l+1)+o.end(l+1))/2?-1:1,s=o.index(l)+(0<d?1:0);if(1==a?o.node(l).canReplace(s,s,i):o.node(l).contentMatchAt(s).findWrapping(i.firstChild.type))return 0==d?o.pos:d<0?o.before(l+1):o.after(l+1)}return null},e.liftTarget=function(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var o=t.$from.node(n),i=t.$from.index(n),r=t.$to.indexAfter(n);if(n<t.depth&&o.canReplace(i,r,e))return n;if(0==n||o.type.spec.isolating||(a=o,d=r,0!=(l=i)&&!a.canReplace(l,a.childCount)||d!=a.childCount&&!a.canReplace(0,d)))break}var a,l,d},e.findWrapping=function(t,e,n,o){void 0===o&&(o=t);var i=function(t,e){var n=t.parent,o=t.startIndex,i=t.endIndex,r=n.contentMatchAt(o).findWrapping(e);if(!r)return null;var a=r.length?r[0]:e;return n.canReplaceWith(o,i,a)?r:null}(t,e),r=i&&function(t,e){var n=t.parent,o=t.startIndex,i=t.endIndex,r=n.child(o),a=e.contentMatch.findWrapping(r.type);if(!a)return null;for(var l=(a.length?a[a.length-1]:e).contentMatch,d=o;l&&d<i;d++)l=l.matchType(n.child(d).type);return l&&l.validEnd?a:null}(o,e);return r?i.map(k).concat({type:e,attrs:n}).concat(r.map(k)):null},e.StepMap=o,e.MapResult=m,e.Mapping=i,e.AddMarkStep=E,e.RemoveMarkStep=D,e.ReplaceStep=T,e.ReplaceAroundStep=y,e.replaceStep=A},function(t,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var s=e(11),f=e(17),c=e(36),o=e(16),i=e(13),r=e(13);function u(t,e){var n=t.selection,o=n.from,i=n.to,r=t.schema.nodes.paragraph,a=[];e.doc.nodesBetween(o,i,function(t,e){t.type===r&&a.push({node:t,pos:e})});for(var l=a.length-1;0<=l;l--){var d=a[l],s=e.doc.resolve(e.mapping.map(d.pos));if(0<s.depth){var c;c=d.node.textContent&&0<d.node.textContent.length?e.doc.resolve(e.mapping.map(d.pos+d.node.textContent.length)):e.doc.resolve(e.mapping.map(d.pos+1));var u=s.blockRange(c);u&&e.lift(u,p.getListLiftTarget(t.schema,s))}}return e}function m(s){return function(t,e,n){if(!n)return!1;var o=(t=n.state).selection,i=o.$from,r=o.$to,a=i.node(-2),l=i.node(-3),d=v(t.doc,i,r,t.schema.nodes[s]);return(a&&a.type===t.schema.nodes[s]||l&&l.type===t.schema.nodes[s])&&d?_()(t,e):(d||(_()(t,e),t=n.state),b(t.schema.nodes[s])(t,e))}}function h(t,e,n){var o=e.$from,i=e.$to,r=t.schema.nodes.listItem,a=o.blockRange(i,function(t){return t.childCount&&t.firstChild.type===r});if(!a||a.depth<2||o.node(a.depth-1).type!==r)return n;var l=a.end,d=i.end(a.depth);return l<d&&(n.step(new c.ReplaceAroundStep(l-1,d,l,d,new s.Slice(s.Fragment.from(r.create(void 0,a.parent.copy())),1,0),1,!0)),a=new s.NodeRange(n.doc.resolve(o.pos),n.doc.resolve(d),a.depth)),n.lift(a,c.liftTarget(a)).scrollIntoView()}function g(a,l,t,d,s){var c=a.schema.nodes.listItem,u=!1;return s.doc.nodesBetween(l,t,function(t,e){if(!u&&t.type===c&&l<e){u=!0;for(var n=d+3;d+2<n;){var o=s.doc.resolve(s.mapping.map(e));n=o.depth;var i=s.doc.resolve(s.mapping.map(e+t.textContent.length)),r=new f.TextSelection(o,i);s=h(a,r,s)}}}),s}function v(t,e,n,o){return 0===a(t,e,n).filter(function(t){return t.type!==o}).length}function a(t,e,n){for(var o=Array(),i=y(t,e).depth,r=t.resolve(e.start(i));r.pos<=n.start(n.depth);){var a=Math.min(r.depth,i),l=r.node(a);if(l&&o.push(l),0===a)break;var d=t.resolve(r.after(a));if(d.start(a)>=t.nodeSize-2)break;d.depth!==r.depth&&(d=t.resolve(d.pos+2)),r=d.depth?t.resolve(d.start(d.depth)):t.resolve(d.end(d.depth))}return o}function y(t,e){var n=["blockquote","bulletList","orderedList"];if(1===e.depth)return e;for(var o=e.node(e.depth),i=e;1<=e.depth;)(o=(e=t.resolve(e.before(e.depth))).node(e.depth))&&-1!==n.indexOf(o.type.name)&&(i=e);return i}function _(){return function(r,t){var a=r.tr,e=r.selection,n=e.$from,o=e.$to;return a.doc.nodesBetween(n.pos,o.pos,function(t,e){if(t.isTextblock||"blockquote"===t.type.name||"panel"===t.type.name){var n=new f.NodeSelection(a.doc.resolve(a.mapping.map(e))),o=n.$from.blockRange(n.$to);if(!o||n.$from.parent.type!==r.schema.nodes.listItem)return!1;var i=o&&c.liftTarget(o);if(null==i)return!1;a.lift(o,i)}}),t&&t(a),!0}}function b(n){return o.autoJoin(i.wrapInList(n),function(t,e){return t.type===e.type&&t.type===n})}p.rootListDepth=function(t,e){for(var n,o=e.bulletList,i=e.orderedList,r=e.listItem,a=t.depth-1;0<a;a--){var l=t.node(a);if(l.type!==o&&l.type!==i||(n=a),l.type!==o&&l.type!==i&&l.type!==r)break}return n},p.getListLiftTarget=function(t,e){for(var n=e.depth,o=t.nodes,i=o.bulletList,r=o.orderedList,a=o.listItem,l=e.depth;0<l;l--){var d=e.node(l);if(d.type!==i&&d.type!==r||(n=l),d.type!==i&&d.type!==r&&d.type!==a)break}return n-1},p.liftSelectionList=u,p.toggleList=function(t,e,n,o){var i=t.selection,r=i.$from.node(i.$from.depth-2),a=i.$to.node(i.$to.depth-2);if(r&&r.type.name===o&&a&&a.type.name===o){var l=p.rootListDepth(i.$to,t.schema.nodes),d=g(t,i.$to.pos,i.$to.end(l),l,t.tr);return e(d=u(t,d)),!0}return m(o)(t,e,n)},p.toggleListCommand=m,p.liftFollowingList=g,p.isRangeOfType=v,p.getAncestorNodesBetween=a,p.findAncestorPosition=y,p.liftListItems=_,p.wrapInList=b,p.toggleUnorderedList=function(t,e,n){return p.toggleList(t,e,n,"bulletList")},p.toggleOrderedList=function(t,e,n){return p.toggleList(t,e,n,"orderedList")},p.splitListItemKeepMarks=function(t){return function(n,o){return r.splitListItem(t)(n,function(t){var e=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();e&&t.ensureMarks(e),o(t)})}}},function(t,e){t.exports=k},function(t,e){t.exports=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),r=(a.prototype.onValueChange=function(t){this.valueChange.emit(t)},o.__decorate([i.Input(),o.__metadata("design:type",Array)],a.prototype,"data",void 0),o.__decorate([i.Input(),o.__metadata("design:type",String)],a.prototype,"value",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Object)],a.prototype,"defaultItem",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Function)],a.prototype,"itemDisabled",void 0),o.__decorate([i.Input(),o.__metadata("design:type",String)],a.prototype,"title",void 0),o.__decorate([i.Output(),o.__metadata("design:type",i.EventEmitter)],a.prototype,"valueChange",void 0),o.__decorate([i.ViewChild("element"),o.__metadata("design:type",i.ElementRef)],a.prototype,"element",void 0),o.__decorate([i.Component({selector:"kendo-editor-fontsize-dropdownlist",template:'\n        <kendo-dropdownlist\n            #element\n            [defaultItem]="defaultItem"\n            [textField]="\'text\'"\n            [valueField]="\'size\'"\n            [data]="data"\n            [(value)]="value"\n            [valuePrimitive]="true"\n            [itemDisabled]="itemDisabled"\n            [attr.title]="title"\n            (valueChange)="onValueChange($event)"\n        >\n        </kendo-dropdownlist>\n    '})],a));function a(){this.valueChange=new i.EventEmitter}e.FontSizeDropDownListComponent=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),r=(a.prototype.onValueChange=function(t){this.valueChange.emit(t)},o.__decorate([i.Input(),o.__metadata("design:type",Array)],a.prototype,"data",void 0),o.__decorate([i.Input(),o.__metadata("design:type",String)],a.prototype,"value",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Object)],a.prototype,"defaultItem",void 0),o.__decorate([i.Input(),o.__metadata("design:type",Function)],a.prototype,"itemDisabled",void 0),o.__decorate([i.Input(),o.__metadata("design:type",String)],a.prototype,"title",void 0),o.__decorate([i.Output(),o.__metadata("design:type",i.EventEmitter)],a.prototype,"valueChange",void 0),o.__decorate([i.ViewChild("element"),o.__metadata("design:type",i.ElementRef)],a.prototype,"element",void 0),o.__decorate([i.Component({selector:"kendo-editor-fontfamily-dropdownlist",template:'\n        <kendo-dropdownlist\n            #element\n            [defaultItem]="defaultItem"\n            [textField]="\'text\'"\n            [valueField]="\'fontName\'"\n            [data]="data"\n            [(value)]="value"\n            [valuePrimitive]="true"\n            [itemDisabled]="itemDisabled"\n            [attr.title]="title"\n            (valueChange)="onValueChange($event)"\n        >\n            <ng-template kendoDropDownListItemTemplate let-dataItem>\n                <span [ngStyle]="{ \'font-family\': dataItem.fontName }">\n                    {{ dataItem.text }}\n                </span>\n            </ng-template>\n        </kendo-dropdownlist>\n    '})],a));function a(){this.valueChange=new i.EventEmitter}e.FontFamilyDropDownListComponent=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i,r=n(0),a=n(1),l=n(10),d=n(23),s=(o=d.Messages,r.__extends(c,o),i=c,Object.defineProperty(c.prototype,"override",{get:function(){return!0},enumerable:!0,configurable:!0}),i=r.__decorate([a.Component({providers:[{provide:d.Messages,useExisting:a.forwardRef(function(){return i})}],selector:"kendo-editor-messages",template:""}),r.__metadata("design:paramtypes",[l.LocalizationService])],c));function c(t){var e=o.call(this)||this;return e.service=t,e}e.CustomMessagesComponent=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i,r=n(0),a=n(1),l=n(10),d=n(23),s=(o=d.Messages,r.__extends(c,o),i=c,i=r.__decorate([a.Directive({providers:[{provide:d.Messages,useExisting:a.forwardRef(function(){return i})}],selector:"[kendoEditorLocalizedMessages]"}),r.__metadata("design:paramtypes",[l.LocalizationService])],c));function c(t){var e=o.call(this)||this;return e.service=t,e}e.LocalizedMessagesDirective=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t.splitCell},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorSplitCellButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"splitCell",t,e,n)||this}e.EditorSplitCellButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t.mergeCells},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorMergeCellsButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"mergeCells",t,e,n)||this}e.EditorMergeCellsButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t.deleteTable},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorDeleteTableButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"deleteTable",t,e,n)||this}e.EditorDeleteTableButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t.deleteRow},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorDeleteRowButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"deleteRow",t,e,n)||this}e.EditorDeleteRowButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t.deleteColumn},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorDeleteColumnButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"deleteColumn",t,e,n)||this}e.EditorDeleteColumnButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t.addRowAfter},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorAddRowAfterButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"addRowAfter",t,e,n)||this}e.EditorAddRowAfterButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t.addRowBefore},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorAddRowBeforeButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"addRowBefore",t,e,n)||this}e.EditorAddRowBeforeButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t.addColumnAfter},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorAddColumnAfterButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"addColumnAfter",t,e,n)||this}e.EditorAddColumnAfterButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t.addColumnBefore},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorAddColumnBeforeButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"addColumnBefore",t,e,n)||this}e.EditorAddColumnBeforeButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t.cleanFormatting},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorCleanFormattingButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"cleanFormatting",t,e,n)||this}e.EditorCleanFormattingButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),r=n(20),a=n(19),l=o.__decorate([i.Directive({selector:"[kendoEditorBackColor]"}),o.__metadata("design:paramtypes",[r.EditorColorPickerComponent])],d);function d(t){this.colorPicker=t,this.colorPicker.icon=a.commandIcons.backColor,this.colorPicker.editorCommand="backColor"}e.EditorBackColorDirective=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),r=n(20),a=n(19),l=o.__decorate([i.Directive({selector:"[kendoEditorForeColor]"}),o.__metadata("design:paramtypes",[r.EditorColorPickerComponent])],d);function d(t){this.colorPicker=t,this.colorPicker.icon=a.commandIcons.foreColor,this.colorPicker.editorCommand="foreColor"}e.EditorForeColorDirective=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(3),l=n(12),d=n(4),s=n(2),c=(o=l.EditorCommandDialog,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorInsertFileButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[d.ToolBarButtonComponent,a.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"insertFile",t,e,n)||this}e.EditorInsertFileButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorSuperscriptButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"superscript",t,e,n)||this}e.EditorSuperscriptButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorSubscriptButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"subscript",t,e,n)||this}e.EditorSubscriptButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorStrikethroughButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"strikethrough",t,e,n)||this}e.EditorStrikethroughButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorUnderlineButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"underline",t,e,n)||this}e.EditorUnderlineButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorItalicButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"italic",t,e,n)||this}e.EditorItalicButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorBoldButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"bold",t,e,n)||this}e.EditorBoldButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(12),s=n(2),c=(o=d.EditorCommandDialog,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorViewSourceButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"viewSource",t,e,n)||this}e.EditorViewSourceButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorInsertUnorderedListButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"insertUnorderedList",t,e,n)||this}e.EditorInsertUnorderedListButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorInsertOrderedListButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"insertOrderedList",t,e,n)||this}e.EditorInsertOrderedListButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t.unlink},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorUnlinkButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"unlink",t,e,n)||this}e.EditorUnlinkButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(12),s=n(2),c=(o=d.EditorCommandDialog,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorCreateLinkButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"createLink",t,e,n)||this}e.EditorCreateLinkButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=!t[this.command]},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorOutdentButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"outdent",t,e,n)||this}e.EditorOutdentButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=!t[this.command]},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorIndentButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"indent",t,e,n)||this}e.EditorIndentButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(12),s=n(2),c=(o=d.EditorCommandDialog,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorInsertImageButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"insertImage",t,e,n)||this}e.EditorInsertImageButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t[this.command]},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorUndoButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"undo",t,e,n)||this}e.EditorUndoButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),u.prototype.onStateChange=function(t){this.button.disabled=t[this.command]},i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorRedoButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"redo",t,e,n)||this}e.EditorRedoButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorAlignJustifyButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"alignJustify",t,e,n)||this}e.EditorAlignJustifyButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorAlignRightButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"alignRight",t,e,n)||this}e.EditorAlignRightButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorAlignCenterButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"alignCenter",t,e,n)||this}e.EditorAlignCenterButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(0),r=n(1),a=n(4),l=n(3),d=n(5),s=n(2),c=(o=d.EditorCommandButton,i.__extends(u,o),i.__decorate([r.Directive({selector:"kendo-toolbar-button[kendoEditorAlignLeftButton]"}),i.__param(1,r.Host()),i.__metadata("design:paramtypes",[a.ToolBarButtonComponent,l.EditorComponent,s.EditorLocalizationService])],u));function u(t,e,n){return o.call(this,"alignLeft",t,e,n)||this}e.EditorAlignLeftButtonDirective=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),r=(Object.defineProperty(a.prototype,"message",{get:function(){var t=this.state,e=t.rows,n=t.cols;return"Create a "+(-1<e?e+1:"")+" "+(-1<n?"x":"")+" "+(-1<n?n+1:"")+" table"},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cells",{get:function(){return Array.from(Array(this.rows*this.cols).keys())},enumerable:!0,configurable:!0}),a.prototype.selected=function(t){var e=this.state,n=e.rows,o=e.cols,i=Math.floor(t/this.cols),r=t%this.cols;return i<=n&&r<=o},a.prototype.setState=function(t){var e=Math.floor(t/this.cols),n=t%this.cols;this.state={rows:e,cols:n}},a.prototype.resetState=function(){this.state={rows:-1,cols:-1}},a.prototype.insertTable=function(){this.cellClick.emit(this.state)},a.prototype.openTableWizard=function(){this.tableWizardClick.emit()},o.__decorate([i.Output(),o.__metadata("design:type",i.EventEmitter)],a.prototype,"cellClick",void 0),o.__decorate([i.Output(),o.__metadata("design:type",i.EventEmitter)],a.prototype,"tableWizardClick",void 0),o.__decorate([i.Component({selector:"kendo-popup-table-grid",template:'\n        <div style="border-color: inherit;" (mouseleave)="resetState()" (click)="insertTable()">\n            <span *ngFor="let i of cells"\n                class="k-ct-cell"\n                [class.k-state-selected]="selected(i)"\n                [class.k-state-disabled]="!selected(i)"\n                (mouseenter)="setState(i)">\n            </span>\n        </div>\n        <div class="k-status" unselectable="on">{{ message }}</div>\n        \x3c!-- uncomment when TableWizard is completed\n        <div class="k-editor-toolbar" unselectable="on">\n            <button type="button" kendoButton class="k-tool" [icon]="\'table-wizard\'" (click)="openTableWizard()" title="Table Wizard">Table Wizard</button>\n        </div>\n        --\x3e\n    '})],a));function a(){this.cellClick=new i.EventEmitter,this.tableWizardClick=new i.EventEmitter,this.state={rows:-1,cols:-1},this.rows=6,this.cols=8}e.PopupTableGridComponent=r},function(t,e){t.exports=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i=n(0),a=n(1),l=n(39),d=n(38),s=n(4),c=n(78),u=n(7),p=n(3),f=n(2),m=n(6),h=n(27),g=(r=s.ToolBarToolComponent,i.__extends(v,r),(o=v).prototype.ngOnDestroy=function(){this.destroyPopup(),this.subs.unsubscribe()},Object.defineProperty(v.prototype,"outerWidth",{get:function(){if(this.element)return u.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"title",{get:function(){return this.localization.get("insertTable")},enumerable:!0,configurable:!0}),v.prototype.toggle=function(t){this.open=void 0===t?!this.open:t,this.destroyPopup(),this.open&&this.createPopup()},v.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:h.InsertTableDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor})},v.prototype.onBlur=function(){this.buttonBlurred.emit()},v.prototype.onCellClick=function(t){this.cellClicked.emit(),this.toggle(!1),this.editor.exec("insertTable",t)},v.prototype.onTableWizardClick=function(){},v.prototype.createPopup=function(){var t="rtl"===this.editor.direction?"right":"left",e={horizontal:t,vertical:"bottom"},n={horizontal:t,vertical:"top"};this.popupRef=this.popupService.open({anchor:this.element,anchorAlign:e,animate:!0,content:this.popupGridTemplate,popupAlign:n,popupClass:"k-ct-popup k-group k-reset k-state-border-up",positionMode:"absolute"});var o=this.popupRef.popupElement;o.style.width="190px",o.style.height="164px",o.setAttribute("dir",this.editor.direction)},v.prototype.destroyPopup=function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)},i.__decorate([a.ViewChild("toolbarTemplate"),i.__metadata("design:type",a.TemplateRef)],v.prototype,"toolbarTemplate",void 0),i.__decorate([a.ViewChild("popupTemplate"),i.__metadata("design:type",a.TemplateRef)],v.prototype,"popupTemplate",void 0),i.__decorate([a.ViewChild("element"),i.__metadata("design:type",a.ElementRef)],v.prototype,"element",void 0),i.__decorate([a.ViewChild("popupGridTemplate"),i.__metadata("design:type",a.TemplateRef)],v.prototype,"popupGridTemplate",void 0),o=i.__decorate([a.Component({providers:[{provide:s.ToolBarToolComponent,useExisting:a.forwardRef(function(){return o})}],selector:"kendo-editor-insert-table-button",template:'\n        <ng-template #toolbarTemplate>\n            <button type="button" kendoButton #element [attr.title]="title" [icon]="\'table-insert\'" [disabled]="disabled" (click)="toggle()" (blur)="onBlur()"></button>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button kendoButton [attr.title]="title" [icon]="\'table-insert\'" [disabled]="disabled" (click)="openDialog()">{{ title }}</button>\n        </ng-template>\n        <ng-template #popupGridTemplate>\n            <kendo-popup-table-grid (cellClick)="onCellClick($event)" (tableWizardClick)="onTableWizardClick()"></kendo-popup-table-grid>\n        </ng-template>\n    '}),i.__param(0,a.Host()),i.__metadata("design:paramtypes",[p.EditorComponent,f.EditorLocalizationService,c.PopupService,m.DialogService])],v));function v(t,e,n,o){var i=r.call(this)||this;return i.editor=t,i.localization=e,i.popupService=n,i.dialogService=o,i.open=!1,i.buttonBlurred=new a.EventEmitter,i.cellClicked=new a.EventEmitter,i.subs=i.editor.stateChange.subscribe(function(t){var e=t.insertTable;i.disabled=e}),i.subs=i.buttonBlurred.pipe(d.concatMap(function(){return l.interval(200).pipe(d.take(1),d.takeUntil(i.cellClicked))})).subscribe(function(){i.toggle(!1)}),i}e.EditorInsertTableButtonComponent=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o,r=n(0),a=n(1),l=n(4),d=n(7),s=n(3),c=n(8),u=n(2),p=n(6),f=n(28),m=(i=l.ToolBarToolComponent,r.__extends(h,i),o=h,Object.defineProperty(h.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||this._data},enumerable:!0,configurable:!0}),h.prototype.ngOnInit=function(){var n=this;this.itemDisabled=function(t){return null===t.dataItem.fontName},setTimeout(function(){return n.defaultItem={text:n.title,fontName:null}}),this.subs=this.editor.stateChange.subscribe(function(t){var e=t.style;n.value=c.getUniqueStyleValues(e,"font-family")||null})},h.prototype.onValueChange=function(e){d.isPresent(e)&&(this.editor.exec("fontFamily",e),this.editor.focus(),this.valueChange.emit(this.data.find(function(t){return t.fontName===e})))},h.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},Object.defineProperty(h.prototype,"outerWidth",{get:function(){if(this.element)return d.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"title",{get:function(){return this.localization.get("fontFamily")},enumerable:!0,configurable:!0}),h.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:f.FontFamilyDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})},r.__decorate([a.Input(),r.__metadata("design:type",Array),r.__metadata("design:paramtypes",[Array])],h.prototype,"data",null),r.__decorate([a.Output(),r.__metadata("design:type",a.EventEmitter)],h.prototype,"valueChange",void 0),r.__decorate([a.ViewChild("toolbarTemplate"),r.__metadata("design:type",a.TemplateRef)],h.prototype,"toolbarTemplate",void 0),r.__decorate([a.ViewChild("popupTemplate"),r.__metadata("design:type",a.TemplateRef)],h.prototype,"popupTemplate",void 0),r.__decorate([a.ViewChild("element"),r.__metadata("design:type",a.ElementRef)],h.prototype,"element",void 0),o=r.__decorate([a.Component({providers:[{provide:l.ToolBarToolComponent,useExisting:a.forwardRef(function(){return o})}],selector:"kendo-toolbar-dropdownlist[kendoEditorFontFamily]",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-editor-fontfamily-dropdownlist\n                #element\n                [defaultItem]="defaultItem"\n                [data]="data"\n                [(value)]="value"\n                [itemDisabled]="itemDisabled"\n                [title]="title"\n                (valueChange)="onValueChange($event)"\n            >\n            </kendo-editor-fontfamily-dropdownlist>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                class="k-overflow-button"\n                [icon]="\'font-family\'"\n                [attr.title]="title"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),r.__param(0,a.Host()),r.__metadata("design:paramtypes",[s.EditorComponent,p.DialogService,u.EditorLocalizationService])],h));function h(t,e,n){var o=i.call(this)||this;return o.editor=t,o.dialogService=e,o.localization=n,o.valueChange=new a.EventEmitter,o._data=[{text:"Arial",fontName:'Arial,"Helvetica Neue",Helvetica,sans-serif'},{text:"Courier New",fontName:'"Courier New",Courier,"Lucida Sans Typewriter","Lucida Typewriter",monospace'},{text:"Georgia",fontName:'Georgia,Times,"Times New Roman",serif'},{fontName:'Impact,Haettenschweiler,"Franklin Gothic Bold",Charcoal,"Helvetica Inserat","Bitstream Vera Sans Bold","Arial Black","sans serif"',text:"Impact"},{text:"Lucida Console",fontName:'"Lucida Console","Lucida Sans Typewriter",monaco,"Bitstream Vera Sans Mono",monospace'},{text:"Tahoma",fontName:"Tahoma,Verdana,Segoe,sans-serif"},{text:"Times New Roman",fontName:'TimesNewRoman,"Times New Roman",Times,Baskerville,Georgia,serif'},{text:"Trebuchet MS",fontName:'"Trebuchet MS","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Tahoma,sans-serif'},{text:"Verdana",fontName:"Verdana,Geneva,sans-serif"}],o}e.EditorFontFamilyComponent=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o,r=n(0),a=n(1),l=n(4),d=n(7),s=n(3),c=n(8),u=n(2),p=n(6),f=n(25),m=(i=l.ToolBarToolComponent,r.__extends(h,i),o=h,Object.defineProperty(h.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||this._data},enumerable:!0,configurable:!0}),h.prototype.ngOnInit=function(){var n=this;this.itemDisabled=function(t){return null===t.dataItem.size},setTimeout(function(){return n.defaultItem={text:n.title,size:null}}),this.subs=this.editor.stateChange.subscribe(function(t){var e=t.style;n.value=(c.getUniqueStyleValues(e,"font-size").match(/\d+/g)||[null])[0]})},h.prototype.onValueChange=function(e){d.isPresent(e)&&(this.editor.exec("fontSize",e),this.editor.focus(),this.valueChange.emit(this.data.find(function(t){return t.size===parseInt(e,10)})))},h.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},Object.defineProperty(h.prototype,"outerWidth",{get:function(){if(this.element)return d.outerWidth(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"title",{get:function(){return this.localization.get("fontSize")},enumerable:!0,configurable:!0}),h.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:f.FontSizeDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})},r.__decorate([a.Input(),r.__metadata("design:type",Array),r.__metadata("design:paramtypes",[Array])],h.prototype,"data",null),r.__decorate([a.Output(),r.__metadata("design:type",a.EventEmitter)],h.prototype,"valueChange",void 0),r.__decorate([a.ViewChild("toolbarTemplate"),r.__metadata("design:type",a.TemplateRef)],h.prototype,"toolbarTemplate",void 0),r.__decorate([a.ViewChild("popupTemplate"),r.__metadata("design:type",a.TemplateRef)],h.prototype,"popupTemplate",void 0),r.__decorate([a.ViewChild("element"),r.__metadata("design:type",a.ElementRef)],h.prototype,"element",void 0),o=r.__decorate([a.Component({providers:[{provide:l.ToolBarToolComponent,useExisting:a.forwardRef(function(){return o})}],selector:"kendo-toolbar-dropdownlist[kendoEditorFontSize]",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-editor-fontsize-dropdownlist\n                #element\n                [defaultItem]="defaultItem"\n                [data]="data"\n                [(value)]="value"\n                [itemDisabled]="itemDisabled"\n                [title]="title"\n                (valueChange)="onValueChange($event)"\n            >\n            </kendo-editor-fontsize-dropdownlist>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                class="k-overflow-button"\n                [icon]="\'font-size\'"\n                [attr.title]="title"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),r.__param(0,a.Host()),r.__metadata("design:paramtypes",[s.EditorComponent,p.DialogService,u.EditorLocalizationService])],h));function h(t,e,n){var o=i.call(this)||this;return o.editor=t,o.dialogService=e,o.localization=n,o.valueChange=new a.EventEmitter,o._data=[{text:"8px",size:8},{text:"10px",size:10},{text:"12px",size:12},{text:"14px",size:14},{text:"18px",size:18},{text:"24px",size:24},{text:"36px",size:36}],o}e.EditorFontSizeComponent=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o,r=n(0),a=n(1),l=n(4),d=n(6),s=n(7),c=n(3),u=n(2),p=n(30),f=n(26),m=(i=l.ToolBarToolComponent,r.__extends(h,i),o=h,Object.defineProperty(h.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t||this._data},enumerable:!0,configurable:!0}),h.prototype.ngOnInit=function(){var o=this;this.itemDisabled=function(t){return null===t.dataItem.tag},setTimeout(function(){return o.defaultItem={text:o.title,tag:null}}),this.subs=this.editor.stateChange.subscribe(function(t){var e=t.format,n=o.data.findIndex(function(t){return t.tag===e.tag});o.value=-1!==n?e.tag:null})},h.prototype.onValueChange=function(e){s.isPresent(e)&&(this.editor.exec("format",{tag:e}),this.editor.focus(),this.valueChange.emit(this.data.find(function(t){return t.tag===e})))},h.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},Object.defineProperty(h.prototype,"outerWidth",{get:function(){var t=this.formatDropDownList.element;if(t)return s.outerWidth(t.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"title",{get:function(){return this.localization.get("format")},enumerable:!0,configurable:!0}),h.prototype.openDialog=function(){var t={appendTo:this.editor.dialogContainer,content:p.FormatDialogComponent};this.editor.toolbar.toggle(!1),this.dialogService.open(t).content.instance.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})},r.__decorate([a.Input(),r.__metadata("design:type",Array),r.__metadata("design:paramtypes",[Array])],h.prototype,"data",null),r.__decorate([a.Output(),r.__metadata("design:type",a.EventEmitter)],h.prototype,"valueChange",void 0),r.__decorate([a.ViewChild("toolbarTemplate"),r.__metadata("design:type",a.TemplateRef)],h.prototype,"toolbarTemplate",void 0),r.__decorate([a.ViewChild("popupTemplate"),r.__metadata("design:type",a.TemplateRef)],h.prototype,"popupTemplate",void 0),r.__decorate([a.ViewChild("formatDropDownList"),r.__metadata("design:type",f.FormatDropDownListComponent)],h.prototype,"formatDropDownList",void 0),o=r.__decorate([a.Component({providers:[{provide:l.ToolBarToolComponent,useExisting:a.forwardRef(function(){return o})}],selector:"kendo-toolbar-dropdownlist[kendoEditorFormat]",template:'\n        <ng-template #toolbarTemplate>\n            <kendo-editor-format-dropdownlist\n                #formatDropDownList\n                [defaultItem]="defaultItem"\n                [data]="data"\n                [(value)]="value"\n                [itemDisabled]="itemDisabled"\n                [title]="title"\n                (valueChange)="onValueChange($event)"\n            >\n            </kendo-editor-format-dropdownlist>\n        </ng-template>\n        <ng-template #popupTemplate>\n            <button\n                tabindex="-1"\n                type="button"\n                kendoButton\n                class="k-overflow-button"\n                [icon]="\'apply-format\'"\n                [attr.title]="title"\n                (click)="openDialog()"\n            >\n                {{ title }}\n            </button>\n        </ng-template>\n    '}),r.__param(0,a.Host()),r.__metadata("design:paramtypes",[c.EditorComponent,d.DialogService,u.EditorLocalizationService])],h));function h(t,e,n){var o=i.call(this)||this;return o.editor=t,o.dialogService=e,o.localization=n,o.valueChange=new a.EventEmitter,o._data=[{text:"Paragraph",tag:"p"},{text:"Quotation",tag:"blockquote"},{text:"Heading 1",tag:"h1"},{text:"Heading 2",tag:"h2"},{text:"Heading 3",tag:"h3"},{text:"Heading 4",tag:"h4"},{text:"Heading 5",tag:"h5"},{text:"Heading 6",tag:"h6"}],o}e.EditorFormatComponent=m},function(t,e){t.exports=m},function(t,e){t.exports=l},function(t,e){t.exports=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),r=n(85),a=n(18),l=n(4),d=n(84),s=n(6),c=n(83),u=n(31),p=n(31),f=n(3),m=n(33),h=n(34),g=n(32),v=n(30),y=n(29),_=n(28),b=n(27),k=n(82),C=n(81),w=n(80),x=n(20),S=n(79),E=n(77),B=n(76),T=n(75),I=n(74),M=n(73),D=n(72),O=n(71),A=n(70),z=n(69),L=n(68),R=n(67),F=n(66),P=n(65),j=n(64),N=n(63),V=n(62),W=n(61),H=n(60),$=n(59),U=n(58),J=n(57),q=n(56),G=n(55),K=n(54),Z=n(53),X=n(52),Q=n(51),Y=n(50),tt=n(49),et=n(48),nt=n(47),ot=n(46),it=n(45),rt=n(44),at=n(43),lt=n(42),dt=n(26),st=n(41),ct=n(40),ut=n(25),pt=[B.EditorAlignLeftButtonDirective,T.EditorAlignCenterButtonDirective,I.EditorAlignRightButtonDirective,M.EditorAlignJustifyButtonDirective,q.EditorInsertFileButtonDirective,D.EditorRedoButtonDirective,O.EditorUndoButtonDirective,A.EditorInsertImageButtonDirective,z.EditorIndentButtonDirective,L.EditorOutdentButtonDirective,R.EditorCreateLinkButtonDirective,F.EditorUnlinkButtonDirective,P.EditorInsertOrderedListButtonDirective,j.EditorInsertUnorderedListButtonDirective,N.EditorViewSourceButtonDirective,V.EditorBoldButtonDirective,W.EditorItalicButtonDirective,H.EditorUnderlineButtonDirective,$.EditorStrikethroughButtonDirective,U.EditorSubscriptButtonDirective,J.EditorSuperscriptButtonDirective,G.EditorForeColorDirective,K.EditorBackColorDirective,Z.EditorCleanFormattingButtonDirective,X.EditorAddColumnBeforeButtonDirective,Q.EditorAddColumnAfterButtonDirective,Y.EditorAddRowBeforeButtonDirective,tt.EditorAddRowAfterButtonDirective,et.EditorDeleteColumnButtonDirective,nt.EditorDeleteRowButtonDirective,ot.EditorDeleteTableButtonDirective,it.EditorMergeCellsButtonDirective,rt.EditorSplitCellButtonDirective,lt.CustomMessagesComponent,at.LocalizedMessagesDirective],ft=[C.EditorFontSizeComponent,w.EditorFontFamilyComponent,k.EditorFormatComponent,x.EditorColorPickerComponent,S.EditorInsertTableButtonComponent],mt=[g.FileLinkDialogComponent,m.ImageDialogComponent,h.SourceDialogComponent,v.FormatDialogComponent,y.ColorPickerDialogComponent,_.FontFamilyDialogComponent,ut.FontSizeDialogComponent,b.InsertTableDialogComponent],ht=[E.PopupTableGridComponent,dt.FormatDropDownListComponent,st.FontFamilyDropDownListComponent,ct.FontSizeDropDownListComponent],gt=o.__decorate([i.NgModule({declarations:[f.EditorComponent,pt,ft,mt,ht],entryComponents:[mt],exports:[f.EditorComponent,pt,ft,l.ToolBarModule,c.ButtonModule,a.FormsModule,a.ReactiveFormsModule,ht],imports:[r.CommonModule,a.FormsModule,a.ReactiveFormsModule,c.ButtonModule,u.ColorPickerModule,s.DialogModule,d.DropDownsModule,p.NumericTextBoxModule,l.ToolBarModule,p.TextBoxModule]})],vt);function vt(){}e.EditorModule=gt},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultStyle='\nhtml, body {\n    margin: 0;\n    height: 100%;\n    padding: 0;\n}\n\nhtml {\n  min-height: 100%;\n}\n\nbody {\n  box-sizing: border-box;\n  position: relative;\n  word-wrap: break-word;\n  padding: 8px;\n}\n\nbody > .k-content {\n  outline: 0;\n  height: 100%;\n}\n\n.k-content > p {\n  margin: 0 0 1em;\n}\n\n.k-content .ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\ndiv.ProseMirror {\n  height: 100%;\n}\n\ndiv.ProseMirror:focus {\n  outline: none;\n}\n\n.ProseMirror-hideselection *::selection { background: transparent; }\n.ProseMirror-hideselection *::-moz-selection { background: transparent; }\n.ProseMirror-hideselection { caret-color: transparent; }\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n',e.tablesStyles='\n  .ProseMirror .tableWrapper {\n    overflow-x: auto;\n    margin: 1em 0;\n  }\n\n  .ProseMirror table {\n    margin: 0;\n    border-collapse: collapse;\n    table-layout: fixed;\n    width: 100%;\n    overflow: hidden;\n  }\n\n  .ProseMirror td, .ProseMirror th {\n    min-width: 1em;\n    border: 1px solid #ddd;\n    padding: 3px 5px;\n    vertical-align: top;\n    box-sizing: border-box;\n    position: relative;\n  }\n\n  .ProseMirror th {\n    font-weight: bold;\n    text-align: left;\n  }\n\n  .ProseMirror .column-resize-handle {\n    position: absolute;\n    right: -2px; top: 0; bottom: 0;\n    width: 4px;\n    z-index: 20;\n    background-color: #adf;\n    pointer-events: none;\n  }\n\n  .ProseMirror.resize-cursor {\n    cursor: ew-resize;\n    cursor: col-resize;\n  }\n\n  /* Give selected cells a blue overlay */\n  .ProseMirror .selectedCell:after {\n    z-index: 2;\n    position: absolute;\n    content: "";\n    left: 0; right: 0; top: 0; bottom: 0;\n    background: rgba(200, 200, 255, 0.4);\n    pointer-events: none;\n  }\n',e.rtlStyles="body { direction: rtl }"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(15),i=n(14),r=n(35),a=n(9),l=n(8),d=n(21);e.getToolbarState=function(t){return{alignCenter:l.isAligned(t,r.alignCenterRules),alignJustify:l.isAligned(t,r.alignRemoveRules),alignLeft:l.isAligned(t,r.alignLeftRules),alignRight:l.isAligned(t,r.alignRightRules),bold:l.isMarkActive(t,a.schema.marks.strong),cleanFormatting:t.selection.empty,format:l.activeNode(t),indent:l.canIndent(t,a.schema.nodes.listItem)||l.canBeIndented(t,d.indentRules),insertOrderedList:l.isInListOfType(t,a.schema.nodes.orderedList),insertUnorderedList:l.isInListOfType(t,a.schema.nodes.bulletList),italic:l.isMarkActive(t,a.schema.marks.em),link:l.isMarkActive(t,a.schema.marks.link),noSelection:t.selection.empty,outdent:l.canOutdent(t,a.schema.nodes.listItem)||l.canBeIndented(t,d.outdentRules),redo:!o.redo(t),strikethrough:l.isMarkActive(t,a.schema.marks.strikethrough),style:l.getActiveMarks(t,a.schema.marks.style),subscript:l.isMarkActive(t,a.schema.marks.subscript),superscript:l.isMarkActive(t,a.schema.marks.superscript),underline:l.isMarkActive(t,a.schema.marks.underline),undo:!o.undo(t),insertTable:!1,addColumnBefore:!i.addColumnBefore(t),addColumnAfter:!i.addColumnAfter(t),addRowBefore:!i.addRowBefore(t),addRowAfter:!i.addRowAfter(t),deleteRow:!i.deleteRow(t),deleteColumn:!i.deleteColumn(t),mergeCells:!i.mergeCells(t),splitCell:!i.splitCell(t),deleteTable:!i.deleteTable(t)}},e.initialToolBarState={bold:!1,italic:!1,underline:!1,strikethrough:!1,unlink:!0,subscript:!1,superscript:!1,style:{marks:[],hasNodesWithoutMarks:!1},format:{text:"Format",tag:null},insertOrderedList:!1,insertUnorderedList:!1,indent:!1,outdent:!1,alignLeft:!1,alignCenter:!1,alignRight:!1,alignJustify:!1,undo:!0,redo:!0,noSelection:!0,cleanFormatting:!0,insertTable:!1,addColumnBefore:!0,addColumnAfter:!0,addRowBefore:!0,addRowAfter:!0,deleteRow:!0,deleteColumn:!0,mergeCells:!0,splitCell:!0,deleteTable:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t,e){var n=e.style,o=e.value,i=e.newValue,r=[];if(t){var a=t.split(/\s*;\s*/).filter(function(t){return t}),l=a.filter(function(t){if(!t.toLowerCase().trim().startsWith(n))return!0;var e=t.split(":")[1].trim();return!o.test(e)||(r.push(e),!1)});return i&&l.push(n+": "+i),{changed:!!i||l.length!==a.length,style:l.join("; ")+(l.length?";":""),styleMatches:r}}return{changed:!1,styleMatches:r,style:null}}function C(t,e){var n=t.find(function(t){return"style"===t.type.name}),o=n&&n.attrs.style;return r(o,e)}function g(e,f,m,h,g){var v=g.create({style:h.style}),y=[],_=[],b=null,k=null;return e.doc.nodesBetween(f,m,function(t,e,n){if(t.isInline){var o=t.marks;if(!v.isInSet(o)&&n.type.allowsMarkType(v.type)){var i=Math.max(e,f),r=Math.min(e+t.nodeSize,m),a=C(o,h);if(a.changed||h.newValue){for(var l=a.changed?{style:a.style}:{style:[h.style]+": "+h.newValue+";"},d=g.create(l),s=d.addToSet(o),c=0;c<o.length;c++)o[c].isInSet(s)||(b&&b.to===i&&b.mark.eq(o[c])?b.to=r:(b=new w.RemoveMarkStep(i,r,o[c]),y.push(b)));var u=k&&k.to===i,p=u&&d.attrs.style===k.mark.attrs.style;u&&p?k.to=r:d.attrs.style&&(k=new w.AddMarkStep(i,r,d),_.push(k))}}}}),y.forEach(function(t){return e.step(t)}),_.forEach(function(t){return e.step(t)}),0<y.length+_.length}var v=n(11),w=n(36);e.changeStyle=function(m,h){return function(t,e,n){var o=t.selection,i=o.empty,r=o.$cursor,a=o.ranges;if(i&&!r||!function(r,a,l){for(var t=function(t){var e=a[t],n=e.$from,o=e.$to,i=0===n.depth&&r.type.allowsMarkType(l);if(r.nodesBetween(n.pos,o.pos,function(t){if(i)return!1;i=t.inlineContent&&t.type.allowsMarkType(l)}),i)return{v:!0}},e=0;e<a.length;e++){var n=t(e);if(n)return n.v}return 0}(t.doc,a,m))return!1;var l=!1;if(e)if(n=n||t.tr,r){var d=t.storedMarks||r.marks();if(m.isInSet(d)){var s=C(d,h);e(n.removeStoredMark(m)),e(n.addStoredMark(m.create({style:s.style}))),l=!0}}else{for(var c=0;c<a.length;c++){var u=a[c],p=u.$from,f=u.$to;l=g(n,p.pos,f.pos,h,m)}l&&(n.scrollIntoView(),e(n))}return l}},e.changeBlockNode=function(i,t,u,p,f,m){var e=i.selection,n=e.from,o=e.to,r=!1;if(i.doc.nodesBetween(n,o,function(t,e){if(r)return!1;if(t.isTextblock&&!t.hasMarkup(f,m))if(t.type===f)r=!0;else{var n=i.doc.resolve(e),o=n.index();r=n.parent.canReplaceWith(o,o+1,f)}}),!r)return!1;if(t){if(!f.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var h=u.steps.length;u.doc.nodesBetween(n,o,function(t,e){if(t.eq(p)&&t.isTextblock&&!t.hasMarkup(f,m)&&(a=u.doc,l=u.mapping.slice(h).map(e),d=f,s=a.resolve(l),c=s.index(),s.parent.canReplaceWith(c,c+1,d))){u.clearIncompatible(u.mapping.slice(h).map(e,1),f);var n=u.mapping.slice(h),o=n.map(e,1),i=n.map(e+t.nodeSize,1),r=new v.Slice(v.Fragment.from(f.create(m,null,t.marks)),0,0);return u.step(new w.ReplaceAroundStep(o,i,o+1,i-1,r,1,!0)),!1}var a,l,d,s,c})}return!0},e.getMarkRange=function(t,e){var n,o,i=t.parent,r=t.index(),a=i.child(r).marks.find(function(t){return t.type===e}),l=i.childCount,d=t.pos-t.textOffset,s=i.child(r).nodeSize;for(n=r-1;0<=n&&a.isInSet(i.child(n).marks);)s+=o=i.child(n).nodeSize,d-=o,n-=1;for(n=r+1;n<l&&a.isInSet(i.child(n).marks);)s+=i.child(n).nodeSize,n+=1;return{from:d,to:d+s}},e.modifyMark=function(h,g){return function(t,n){var o=t.tr,e=t.selection,i=e.$cursor,r=e.from,a=e.to;if(i){var l=i.parent,d=i.index(),s=l.child(d).marks.find(function(t){return t.type===h}),c=l.childCount,u=i.pos-i.textOffset,p=l.child(d).nodeSize,f=void 0,m=void 0;for(f=d-1;0<=f&&s&&s.isInSet(l.child(f).marks);)p+=m=l.child(f).nodeSize,u-=m,f-=1;for(f=d+1;f<c&&s.isInSet(l.child(f).marks);)p+=l.child(f).nodeSize,f+=1;o.removeMark(u,u+p,h),o.addMark(u,u+p,h.create(g)),n(o)}else o.doc.nodesBetween(r,a,function(t,e){t.isInline&&h.isInSet(t.marks)&&(o.removeMark(e,e+t.nodeSize,h),o.addMark(e,e+t.nodeSize,h.create(g)),n(o))})}},e.addStyles=function(t,e){var n=t.attrs.style,o=null,i=null;return n&&e.forEach(function(t){i={style:t.name,value:/^.+$/,newValue:t.value},o=r(n,i),n=o.changed?o.style:n}),n=n||e.reduce(function(t,e){return(t&&e.value?t+" ":"")+e.value?e.name+": "+e.value+";":""},""),Object.assign({},t.attrs,{style:n||null})}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e(1),a=e(16),o=e(17),l=e(13),p=e(89),f=e(8),s=e(7),d=e(21),c=e(9),n=c.schema.nodes,u=n.blockquote,m=n.heading,h=n.listItem,g=n.paragraph,v=n.image;i.removeMark=function(l){return function(t,e){var n=t.selection,o=n.from,i=n.to,r=n.$cursor;if(r){var a=p.getMarkRange(r,l);e(t.tr.removeMark(a.from,a.to,l))}else e(t.tr.removeMark(o,i,l))}},i.removeAllMarks=function(t){var e=(void 0===t?{}:t).except,d=void 0===e?[]:e;return function(t,e){var n=t.selection,o=n.$cursor,i=n.from,r=n.to,a=t.tr,l=s.toArray(d).map(function(t){return t.name});o||(Object.keys(c.schema.marks).map(function(t){return c.schema.marks[t]}).filter(function(t){return-1===l.indexOf(t.name)}).forEach(function(t){return a.removeMark(i,r,t)}),e(a))}},i.toggleBold=a.toggleMark(c.schema.marks.strong),i.toggleItalic=a.toggleMark(c.schema.marks.em),i.toggleUnderline=a.toggleMark(c.schema.marks.underline),i.toggleStrikethrough=a.toggleMark(c.schema.marks.strikethrough),i.toggleSubscript=a.toggleMark(c.schema.marks.subscript),i.toggleSuperscript=a.toggleMark(c.schema.marks.superscript),i.setFontFamily=function(o){return function(t,e){var n=t.schema.marks;return p.changeStyle(n.style,{newValue:o,style:"font-family",value:/^.+$/})(t,e)}},i.setFontSize=function(o){return function(t,e){var n=t.schema.marks;return p.changeStyle(n.style,{newValue:o+"px",style:"font-size",value:/^.+$/})(t,e)}},i.createLink=function(o){return function(t,e){if(f.isMarkActive(t,c.schema.marks.link))p.modifyMark(c.schema.marks.link,o)(t,e);else if(t.selection.empty){if(r.isDevMode()&&!s.isPresent(o.text))throw new Error("Unable to create link without text. Please pass a 'text' property as part of the parameter or select any text in the Editor.");var n=c.schema.text(o.text,[c.schema.marks.link.create(o)].concat(f.getActiveMarks(t).marks));e(t.tr.replaceSelectionWith(n,!1))}else a.toggleMark(c.schema.marks.link,o)(t,e)}},i.addOrUpdateStyle=function(i,r){return function(t,e){var n=t.schema.marks;if(!t.selection.empty||f.isMarkActive(t,n.style))p.changeStyle(n.style,{style:i,value:/^.+$/,newValue:r})(t,e);else{var o=n.style.create({style:i+": "+r});e(t.tr.addStoredMark(o))}}},i.applyHeading=function(t){return a.setBlockType(m,{level:t})},i.applyParagraph=a.setBlockType(g),i.applyBlockquote=a.setBlockType(u),i.format=function(t){var e=t.tag;return e.match(/h\d\b/)?i.applyHeading(parseInt(e[1],10)):"p"===e?i.applyParagraph:"blockquote"===e?i.applyBlockquote:void 0},i.insertImage=function(o){return function(t,e){var n=v.createAndFill(o);e(t.tr.replaceSelectionWith(n))}},i.insertText=function(n){return function(t,e){e(t.tr.insertText(n.text,n.from,n.to))}},i.setHTML=function(n){return function(t,e){return e(t.tr.setSelection(new o.AllSelection(t.doc)).replaceSelectionWith(f.createContentNode(n)))}},i.alignBlocks=function(l){return function(o,i){var t=f.blockNodes(o),r=o.tr,a=!1;return t.forEach(function(e){if(e.type.isTextblock){var t={},n=l.find(function(t){return t.node===e.type.name});n&&(t=p.addStyles(e,n.style)),a=p.changeBlockNode(o,i,r,e,e.type,t)||a}}),a&&i(r.scrollIntoView()),a}};function y(u){return function(l,d){var t=f.blockNodes(l),s=l.tr,c=!1;return t.forEach(function(e){if(e.type.isTextblock){var t=void 0,n=u.find(function(t){return t.node===e.type.name});if(n){var o={name:n.style,value:0<n.step?""+n.step+n.unit:""};if(e.attrs.style){var i=new RegExp(n.style+":\\s?(\\d+)"+n.unit,"i"),r=e.attrs.style.match(i);if(r){var a=parseFloat(r[1])+n.step;a=a<=0?"":a,o.value=""+a+(a?n.unit:"")}}t=p.addStyles(e,[o])}t&&(c=p.changeBlockNode(l,d,s,e,e.type,t)||c)}}),c&&d(s.scrollIntoView()),c}}i.indent=function(t,e){var n=f.canBeIndented(t,d.indentRules);f.canIndentAsListItem(t)?l.sinkListItem(h)(t,e):n&&y(d.indentRules)(t,e)},i.outdent=function(t,e){var n=f.canBeIndented(t,d.outdentRules);f.canOutdentAsListItem(t)?l.liftListItem(h)(t,e):n&&y(d.outdentRules)(t,e)},i.insertNode=function(o,i){return function(t,e){var n=t.tr.replaceSelectionWith(o);i&&n.scrollIntoView(),e(n)}},i.createTable=function(t,e,n){for(var o=t.table,i=t.table_row,r=t.table_cell,a=[],l=[],d=0;d<e+1;d++){for(var s=l.length=0;s<n+1;s++)l.push(r.createAndFill());a.push(i.createAndFill(void 0,l))}return o.createAndFill(void 0,a)},i.insertTable=function(o){return function(t,e){var n=i.createTable(t.schema.nodes,o.rows,o.cols);n&&i.insertNode(n,!0)(t,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(15),i=n(14),r=n(9),a=n(35),l=n(90),d=n(8),s=n(37),c={bold:function(){return l.toggleBold},cleanFormatting:function(){return l.removeAllMarks({except:r.schema.marks.link})},createLink:function(t){return l.createLink(t)},fontFamily:function(t){return l.setFontFamily(t)},fontSize:function(t){return l.setFontSize(t)},insertFile:function(t){return l.createLink(t)},insertText:function(t){return l.insertText(t)},italic:function(){return l.toggleItalic},strikethrough:function(){return l.toggleStrikethrough},subscript:function(){return l.toggleSubscript},superscript:function(){return l.toggleSuperscript},underline:function(){return l.toggleUnderline},unlink:function(){return l.removeMark(r.schema.marks.link)},foreColor:function(t){return l.addOrUpdateStyle("color",t)},backColor:function(t){return l.addOrUpdateStyle("background-color",t)}},u={alignCenter:function(){return l.alignBlocks(a.alignCenterRules)},alignJustify:function(){return l.alignBlocks(a.alignRemoveRules)},alignLeft:function(){return l.alignBlocks(a.alignLeftRules)},alignRight:function(){return l.alignBlocks(a.alignRightRules)},format:function(t){return l.format(t)},getHTML:function(){return d.getHTML},indent:function(){return l.indent},insertImage:function(t){return l.insertImage(t)},insertOrderedList:function(){return s.toggleOrderedList},insertUnorderedList:function(){return s.toggleUnorderedList},outdent:function(){return l.outdent},redo:function(){return o.redo},setHTML:function(t){return l.setHTML(t)},undo:function(){return o.undo}},p={insertTable:function(t){return l.insertTable(t)},addColumnBefore:function(){return i.addColumnBefore},addColumnAfter:function(){return i.addColumnAfter},addRowBefore:function(){return i.addRowBefore},addRowAfter:function(){return i.addRowAfter},deleteRow:function(){return i.deleteRow},deleteColumn:function(){return i.deleteColumn},mergeCells:function(){return i.mergeCells},splitCell:function(){return i.splitCell},deleteTable:function(){return i.deleteTable}};e.editorCommands=Object.assign({},c,u,p)},function(t,e){t.exports=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),r=n(15),a=n(92),o=n(37),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);e.buildKeymap=function(t){var e={};if(e["Mod-z"]=r.undo,e["Shift-Mod-z"]=r.redo,e.Backspace=i.chainCommands(a.undoInputRule,i.deleteSelection,i.joinBackward,i.selectNodeBackward),e.Enter=i.chainCommands(i.newlineInCode,i.createParagraphNear,i.liftEmptyBlock,i.splitBlockKeepMarks),l||(e["Mod-y"]=r.redo),t.marks.strong&&(e["Mod-b"]=i.toggleMark(t.marks.strong)),t.marks.em&&(e["Mod-i"]=i.toggleMark(t.marks.em)),t.marks.underline&&(e["Mod-u"]=i.toggleMark(t.marks.underline)),t.nodes.hardBreak){var n=t.nodes.hardBreak,o=i.chainCommands(i.exitCode,function(t,e){return e(t.tr.replaceSelectionWith(n.create()).scrollIntoView()),!0});e["Mod-Enter"]=o,e["Shift-Enter"]=o,l&&(e["Ctrl-Enter"]=o)}return e},e.buildListKeymap=function(t){var e={};return t.nodes.listItem&&(e.Enter=o.splitListItemKeepMarks(t.nodes.listItem)),e}},function(t,e){t.exports=_},function(t,e){t.exports=C},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3);e.EditorComponent=o.EditorComponent;var i=n(86);e.EditorModule=i.EditorModule,function(t){for(var e in t)r(e,t[e])}(e)}],o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=96)}}});